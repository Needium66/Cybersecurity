#Ojectives
#Main computing assets and security
#Main security goals known as CIA triad
#What are the computing assets to be protected?
1. Hardware
2. Software
3. Data
Hardware: Includes Computer, Devices (disk drives, memory, printer), Network gear
Software: Includes OS, Utilities (antivirus), Commercial applications (word processing, photo editing) and individual applications.
Data: Documents, Photos, music videos, email, class projects.

#Security Goals- CIA (Confidentiality, Integrity and Availability)
Confidentiality: It is the avoidance of unauthorized disclosure of info. It involves the PROTECTION OF DATA, providing ACCESS to those who are allowed to see it
and disallowing others from leaning anything about its content.
Tools of confidentialy: i.e tools that are used to ensure confidentiality
1. Encryption
2. Authentication
3. Access control and support
Encryption: it is the transformation of info using a secret (an encryption key), so that the TRANSFORMED INFO can only be read using
another key (a decryption key). In some cases the decryption key can be the same as encryption key. i.e the encryption key will
TRANSFORM the info into something that cannot be read or deciphered by anybody except when the decryption key is used. can only see ciphertext

Sender (encrypt it with a key)..........> ciphertext(unreadable by attackers)..............>Receiver(decrypt to a plain text)
Authentication: used to determine the identity or role that a user has. The DETERMINATION can be done in a different ways BUT there could be comb
ination of ways. The different ways include-
- something the person has (e.g a smart card or radio key fob storing keys)
- something the person knows (password)
- something the person is e.g fingerprint of a human
Access control: rules and policies that LIMIT access to confidential info for people and/or systems with a "need to know"
Need to know can be determined by:
- Identity: e.g a person's NAME or COMPUTER SERIAL NUMBER
- Role: e.g a person's role e.g a MANAGER or SECURITY ENGINEER

Authorization: It is the DETERMINATION if a person or system is allowed access to resources, based on an access control policy.
Physical security: It is the ESTABLISHMENT of physical barriers to LIMIT access to PROTECTED RESOURCES. e.g use of sound dampening materials
putting computers in windowless rooms, locks on cabinets and doors, construction of buildings or rooms with walls incorporating copper
meshes.

Integrity: It means having info not be altered in unauthorized way.
Integrity Tools Include:
1. Backups
2. Checksums
3. Data correcting codes
Backups: Periodic archiving of data
Checksums: the computation of a function that MAPS the contents of a file to a NUMERICAL VALUE. It is designed in a way that a SMALL CHANGE
in the INPUT FILE( e.g flipping a single bit) is highly likely to result in a DIFFERENT OUTPUT VALUE.
Data correcting codes: methods of storing data in such a way that small changes can be easily detected and automatically corrected. e.g AWS Config

Availability: It means that info is ACCESSIBLE and MODIFIABLE in a timely fashion by those authorized to do so.
Availability tools include:
1. Physical protections
2. Computational redundancies
Physical protections: infrastructure meant to keep info available even in the event of physical challenges
Computational redundancies: computers and storage devices that serve as backups or disaster recovery in the case of failures
Other Security Concepts Triple A- A.A.A
- Authenticity
- Anonymity
- Assurance
Assurance: it refers to how TRUST is PROVIDED and MANAGED in computer systems.
Trust managements depends on: 
Policies
Permissions
Protections
Policies: it specifies the behavioural expectations that people or systems have for themselves and others. e.g the designer of an online
music system can specify the way users can access and copy songs
Permissions: it describes the behaviors that are allowed by the AGENTS that interact with a person or system. e.g an online music store
can provide limited access and copying to people that have purchased certain songs
Protections: mechanisms put in place to ensure permissions and policies e.g an online music store providing protections to prevent people
from unauthorized access and copying of its songs.
Authenticity: is the ABILITY to DETERMINE that statements, policies, and permissions issued by persons or systems are GENUINE
Authenticity Tools:
- Digital signatures e.g on atm card or cards.
Anonymity: that certain RECORD S or TRANSACTIONS not to be attributable to any individual.
Anonymity Tools:
1. Aggregation
2. Mixing
3. Proxies
4. Pseudonyms
Aggregation: Combining of data from many individuals so that disclosed sums or averages CANNOT be tied to any individual
Mixing: The intertwining of transactions, info, or communications in a way that cannot be traced to any individual
Proxies: Trusted agents that are willing to engage in actions for an individual in such a way that it cannot be traced back to that person
Pseudonyms: Fictional identities that can fill in for real identities in communications and transactions (trusted identity) e.g user id

2nd Week
#Objectives
Vulnerability, threat, attack and control
Types of threats and attacks
Ten security principles
Access controls and how to implement access control
Vulnerability: It is a WEAKNESS that could be EXPLOITED to cause HARM.
Threat: A SET OF CIRCUMSTANCES that has the POTENTIAL to cause LOSS or HARM.
Attack: Is EXPLOITATION OF VULNERABILITIES by a THREAT. It can be SUCCESSFUL or UNSUCCESSFUL.
Control: An action, device, procedure or technique that removes or reduces a vulnerability. A COUNTERMEASURE that PREVENTS threat from
exercising vulnerabilites.
Note: A THREAT is BLOCKED by the CONROL OF VULNERABILITY i.e for you stop a threat, you have to control vulnerability- mitigate it. don't 
let it happen. Ensuring the control of vulnerability to mitigate threat.
Threat can be due to HUMAN CAUSES or NATURAL CAUSES. Threats can be benign or malicious. Threats can be random or directed.
Types of Threats:
1. Eavesdropping: interception of information intended for someone else during its transmission over a communication channel.
2. Alteration: An unauthorized modification of information e.g the man-in-the-middle attack, where a network stream is intercepted,
modified, and transmitted. Modifies the info from SENDER to RECEIVER.
3. Denial of Service: the interruption or degradation of a data service or information access. e.g email spam to fill up a mail queue, so
that it can slow down the email server.
4. Masquerading: Fabrication of information that is purported to be from someone who is not actually the author.
5. Repudiation: The denial of a commitment or data receipt e.g backing out of a contract or protocol that requires the different parties
to provide receipts acknowledging that data has been received.

Control/Countermeasures:
There are 3 types of controls
Physical controls: e.g locks, human guards etc
Procedural/Administrative Controls: laws/regulations, policies/procedures/guidelines
Technical Controls: Use technical measures e.g password, access controls. firewalls, intrusion detection systems (ids), encryption.

The 10 Security Principles:
1. Economy of mechanism: It is a principle that STRESSES the SIMPLICITY in the DESIGN and IMPLEMENTATION of SECURITY MEASURES. A simple
security framework will enable understanding by developers and users and causes efficient development and verification of enforcement methods.
KISS rule- Keep It Simple Strictly
2. Compromise recording: The principle states it is sometimes MORE DESIRABLE to RECORD THE DETAILS of an intrusion than to adopt MORE
SOPHISTICATED measures to prevent it.
3. Fail-safe default: It is a principle that STATES that the default configuration of a system should have a CONSERVATIVE PROTECTION SCHEME
e.g when adding a new user to a system, the default group of the user should have minimal access right to files and services. Fail-safe
design in engineering is a feature or practice that in the event of a failure, there will be minimal or no harm to other equipment, environment
or people.
4. Work factor: The principle states that the COST OF CIRCUMVENTING a security mechanism should be compared with the resources of an attacker
when designing a security scheme. e.g a school website security (less security) vs government agency (complex and more money)
5. Complete mediation: The principle is every access to a resource needs to be checked for COMPLIANCE WITH A PROTECTION SCHEME e.g an online
banking website should require users to sign on again after a certain amount of time e.g 15 minutes.
6. Psychological acceptability: The principle states that user interfaces should be WELL DESIGNED AND INTUITIVE, and all security-related
settings should adhere to what an ordinary user might expect.
7. Least common mechanism: In systems with MULTIPLE USERS, mechanisms allowing resources to be SHARED BY MORE THAN ONE USER SHOULD BE MINIMIZED.
8. Least privilege: Each user of a computer system should operate with athe bear minimum privilege necessary to function properly.
9. Separation of privilege: The principle states that multiple conditions should be required to achieve access to restricted resources or
have a program perform some action.
10. Open design: The principle states that the SECURITY ARCHITECTURE and DESIGN of a system should be made publicly available.
Making it open will allow it to be scrutinized by multiple parties and enable discovery and coorection of vulnerabilities on time.
Security should rely on keeping ONLY cryptographic keys secret. It is opposite of SECURITY BY OBSCURITY
Kerckhoff's principle: A cryptosystem should be SECURE even if everything about the system, except the key is public knowledge.

#ACCESS CONTROLS
- Users and Groups
- Passwords
- Authentications
- File protection
- Access Control Lists
Which users can read and write which files?
Are my files really safe?
What does it mean to be root?
What do we really want to control?
#Access control overview
Access Control Policy: Who + What + How = Yes/No
Subject: Who? Jide
Mode of access: How? read
Object: What? Week2.ppt

Access Control Matrices: A table that defines permissions
	  /etc/password	      /usr/bin/	    /u/Jide/	        /admin/
root	read, write	  read, write,exec	read,write,exec	read, write, exec
Jide	read	        read, exec		
Lana	read	        read, exec	      read,write,exec	
backup	read	      read, exec	      read,exec	       read, exec

Access Control List:
Capabilities:
Role-Based-Access Control: For large number of users e.g 1000 users. very scalable


#Week3
################
#Objectives
#Understand the basic concepts of symmetric and public key encryption
#State the mechanisms for digital signature, hashing and message authentication code
#State the password functions and complexity

#Cryptographic concept
It is a MEANS to allow 2 parties, CUSTOMARILY Jide and Lola, to ESTABLISH a CONFIDENTIAL COMMUNICATION of an INSECURE CHANNEL that is SUBJECT
to EAVESDROPPING.
#Encryption and Decryption
Jide will convert a plaintext M (message)to an ENCRYPTED form using an ENCRYPTION ALGORITHM E that outputs a CIPHERTEXT (C) for M
Once Jide the sender sends the message that is encrypted, it turns to ciphertext in transit, and once it gets to the recipient, Lola.
Lola can decrypt the ciphertext to a plaintext using an encryption algorithm too. Therefore no attacker can eavesdrop the message in
traffic.
#Equation

C = E(M)
M = D(C)
Where M = plaintext
C = Ciphertext
E = Encryption function
D = Decryption function
#Explanation: The plaintext M is ENCRYPTED through the function of E to CONVERT it to CIPHERTEXT C i.e C = E(M)
#TO DECRYPT: The CIPHERTEXT C  is input to the function of D, which converts it to the original message

#CEASAR CIPHER
Replacing each letter with the "three over" in the alphabet
Key k is the number of shifts in alphabet and the value of the key was three (k = 3)
Right shifting for ENCRYPTING
Left shifting for DECRYPTING
ENCRYPTING => C = E(M) = M + k
              M = D(C) = C - k

#Symmetric Encryption
When both Jide and Lola dont share the same key i.e when it requires each pair of communication parties to share (a SEPARATE) SECRET KEY.
i .e just one single key
For 2 participants? 1 Key
For 3 participants? 2 Keys
For N participants? N - 1 Keys.

#Public Key Cryptography
It requires 2 keys- Private key, which is a secret key and a Public key, which is broadcasts widely.
For Jide to send an encrypted message to Lola, he only needs his PUBLIC KEY (PK), to ENCRYPT his message and send it to LOLA. Then Lola
will use her SECRET KEY to decrypt the message.
Widely known example of public key is RSA
Seperate keys are used for ENCRYPTION and DECRYPTION

#CRYPTOGRAPHIC HASH FUNCTIONS
It is
One way: should be EASY to COMPUTE Y = H(M), but HARD to FIND M given Y only.
Collision resistant: It should be HARD to FIND 2 messages, M and N, such that H(M) = H(N)
Length of M can be a variable, but message digest Y has always the same length e.g SHA-1, SHA-256
Hash is used for DATA INTEGRITY, if 2 parties share a secret key. Digest key in hash
Message Authentication Code (MAC)

#Digital Signatures
Public key encryption provides a method for doing digital signatures. To sign a message, M, Jide can ENCRYPT it with his private key.
Anyone can DECRYPT it using a valid public key.
Digital Certificates: digitally SIGNS a binding between an IDENTITY and the PUBLIC KEY for that IDENTITY.
Strong passwords: Combination of upper case, lower case, special characters and numbers.
Social Engineering: ways to hack a password. it is of different types.
1. Pretexting- creating a story that convinces an adminor operator into revealing info.
2. Baiting- offering a kind of gift to get a user or agent to perform an insecure action
3. Quid pro quo: Offering a kind of action or service and then expecting something in return.

Current function foe encrypting and decrypting in ceazar cipher is C = E(M) = (M+k)% 26
Number of keys required for N participants in symmetric encryption is N(N-1)/2
Number of keys required for N participants in asymmetric encryption is 2N


##############################
#### OS SECURITY
#Objectives
- Basic concepts of OS including processes, file system, memory and virtual machines
- Functions that monitor and protect the processes
- Understanding password-based authentication and salting (password security with a concept of salting)

OS controls the CPU, RAM, I/O and Disk drive in a computer; it manages the ways apps access the resources in a computer e.g the disk drives,
 CPU, main memory, input and output devices, and network interfaces
- OS MANAGES multiple users.
- OS MANAGES multiple programs.

In the filesystem in your computer/server, the topmost directory in the tree of directories/folders is the root directory/folder. The tree
can be accessed via the file explorer.
#File permissions
File permissions are TOOLS for access control
File permissions are CHECKED by the OS to determine if a file is READABLE, WRITABLE or EXECUTABLE by a user or group of users.
In Unix like OS(Linux), there is a FILE PERMISSION MATRIX that has OWNER PERMISSIONS (what owners can do), GROUP PERMISSIONS (what some group of users can do)
WORLD PERMISSIONS( deafult access right)
An example of file permissions below:
jide:~/java % ls -l
total 24
-rwxrwxrwx  1 jide department  1234 Feb 21 01.44 Floats.class
-rw-r--r    1 jide department  2341 Feb 21 01.44 Floats.java
-rw-------  1 jide department  3214 Feb 21 01.44 Test.java

In the above file permissions for Linux, there are 3 types of permissions (READ, WRITE and EXECUTABLE FILES) 
The types of access that are available in LINUX are OWNER, GROUP and WORLD (for other permissions)
e.g in the above file matrix, the file named (Test.java) is OWNED by Jide, the group for the file is department
The first set of "rwx" is for OWNER, the next set of "rwx" is for GROUP, the last set of "rwx" is for WORLD(Others)
Test.java is only ACCESSIBLE by the OWNER i.e  Jide
Floats.java has OWNER having read and write access, GROUP(department group) having read access and OTHERS having write access
Floats.class has anybody having all the privileges or access including read, write and executables.

#Password security
Approach to GUESSING password from PASSWORD FILE is to CONDUCT a "DICTIONARY ATTACK"; where each word in a dictionary is HASHED and the
resulting value is COMPARED with the HASHED PASSWORDS stored in the PASSWORD FILE
- A dictionary of 500,000 "words" is often enough to discover most passwords
- You can achieve cracking of password by this because the passwords are not multi characters enabled.
- 10 minutes to complete the hashing

#Password salt
A technique used to make distionary attack harder to be cracked
- when you associate a random number with password
- Rather than COMPARING the HASH of an entered password with a STORED HASH of a password, the system COMPARES the HASH of an ENTERED PASSWORD
the SALT for the associated password with a stored hash of the password and salt.
- 2 quandrillion- longer than a million years to complete this

How Password Salt Works:
Without Salt:
1. Userid X, Password P
2. System will look H, the STORED HASH of X's Password(P)
3. System will TEST whether h(P) = H.
Password File -----> X:H

With Salt:
1. Userid X, Password P
2. System will look up S and H, where S is the RANDOM SALT for userid X  and H is the STORED HASH of S and X's Password(P)
3. System will TEST whether h(S||P) = H.
Password File -----> X:S,H

#Linux Password File
Linux has 2 files to keep the password info.
Password file keeps the basic user info including the BASIC USER ID
Shadow file keeps the hash password info and salt info
- /etc/passwd: basic user and password info (world readable)
- /etc/shadow: encrypted password info- based on one way function. readable only by super user. only accessible by ROOT USER


####Week 6
- Memory and file system security
- Linux file system permissions
- Application program security including the concept and mechanism of buffer overflow attacks

#Access Control Model:
1) Discretionary Access Control (DAC): It is the type of model where
- The owner grants access to others.
- The owner may define the type of access (write/read/execute) given to others.
2) Mandatory Access Control (MAC): Model where
- The admin grants access to users
- Multiple levels of SECURITY for users and documents
- Levels e.g in military - Top secret > Secret > Confidential > Restricted > Unclassified

DAC is the standard MODEL used by operating system.
Access Control Entries and Lists:
An Access Control List (ACL) for a resource e.g file or folder is the SORTED LIST of zero or more of Access Control Entries (ACE)
ACE means a certain set of accesses e.g READ, WRITE, EXECUTE to the resource is ALLOWED or DENIIED to a user or group.
Examples of ACEs for folder "CSI351_Grades"
- Bob; Read; Allow
- TA's; Read; Allow
- TWD; Read, Write, Allow
- Bob; Write; Deny
- TA's; Write; Allow
#Two Types of Policies
- Open Policy
- Closed Policy
Open Policy: 
- Access is ALLOWED by default.
- Deny Tom read access to "foo"
- Deny Bob r/w access to "bar"
Examples:
Tom says "I would like to read foo"
Answer: Denied
Tom says "I would like to read bar"
Answer: Allowed (Because access is allowed by default)

Closed Policy:
- Also called "default secure".
- Give Tom read access to "foo"
- Give Bob r/w access to "bar"
Examples:
Tom says "I would like to read foo"
Answer:  Allowed
Bob says "I would like to read bar"
Answer: Denied.

Closed Policy with Negative Authorizations and Deny Priority:
- Give Tom r/w access to "bar"
- Deny Tom write access to "bar"
- Tom: I would like to read "bar" ---- READ
Answer: Allowed
- Tom: I would like to write "bar"
Answer: Denied
This kind of policy is used by Windows to manage access control to the file system.

Differences between Windows and Linux
Linux:
- Allow-only ACEs
- Access to file depends on ACL of file and of all ancestor folders
- Start at root of file system
- Traverse path of folders
- Each folder must have execute permission(cd)
- Different path to the same file not equilvalent
- File's ACL must allow requested access

Windows:
- Allow and Deny ACEs
- By default, deny ACEs precede allow ones
- Access to file depends only on file's ACL
- ACLs of ancestors ignored when access is requested
- Permissions set on a folder usually propagated to descendants (inheritance)
- System keeps track of inherited ACE's

#Linux File System
- Tree of directories (folders)
- Each directory has links to zero or more files
- File Access Control for:
Files
Directories
Therefore....
- \dev\: devices
- \mnt\: mounted file systems
- Sockets, pipes, symbolic links.
Linux permissions:
To see permissions, run "ls -l"
Knowing the meaning the permissions and output e.g
-rwxr-x--- 1 jk ugrad 16 2005-10-13 7:18 myfile.txt

- first hyphen means FILE / DIRECTORY
- The next "rwx" means "OWNER PRIVILEGE"
- The next "r-x" means "GROUP PRIVILEGE"
- The next "---" means "WORLD PRIVILEGE"
- jk means "OWNER"
- ugrad means "GROUP"
- 16 means "SIZE"
- 2005-10-13 7:18 means "MODIFIED date/time"
- myfile.txt means "NAME"

Octal Notation:
- r = 4
- w = 2
- x = 1
rwxr-x--- = 750

Permissions for Directories:
Read: bit allows listing names of files in directory, but not their properties like size and permissions
Write: bit allows creating and deleting files within the directory
Execute: bit means entering the directory and getting properties of files in the directory
Special permission bits:
- Set-user-ID ("suid" or "setuid") bit
- Set-group-ID ("sgid" or "setgid") bit
- Sticky bit
Set-user-ID ("suid" or "setuid") bit:
- Causes the program to run as FILE OWNER regardless of who runs it.
- Ignored for everything else
- In 10-character display, replaces the 4th character (x or -) with s (or S if not executable)
-rwsr-xr-x: setuid, executable by all
-rwxr-xr-x: executable by all, but not setuid
-rwSr--r--: setuid, but not executable - not useful
Sticky bit:
- On directories, prevents users from deleting or renaming files they don't own
- Ignored for everything else
- Replaces 10th character (x or -) with t
drwxrwxrwt: sticky bit set, full of access for everyone
drwxrwx--t: sticky bit set, full of access for user/group
drwxr--r-T: sticky bit set, full of access for everyone
Commands to change permissions:
chmod - change mode
chgrp - change group to any group in which the user is a member.
chown - change owner
with r command- means recur - change for a particular file and everything within it.
Explot: An exploit is any input(software, argument string, commands)  that takes advantage of a bug, glitch or vulnerrability in order to cause attack
Attack: An unintended or unanticipated behavior that occurs on software, hardware or electronics that bring advantage to an attacker.
Buffer Overflow Attack: It is one of the most common OS bugs. The following could cause it
1. Dev FAILS to include code that checks whether an input string fits into its buffer array
2. An INPUT to the RUNNING PROCESS exceeds the length of the buffer
3. The INPUT string OVERWRITES a portion of the memory of the process.
4. Causes the application to BEHAVE improperly and unexpectedly.
Effect of a buffer overflow:
- The process can operate on malicious data or execute malicious code passed in by the attacker
- If the process is executed as root, the malicious code will be executing with root privileges.
Buffer flow vulnerabilities:
- Out-of-bounds memory accesses used to CORRUPT program's intended behavior.
- Most common class of implementation flaws.
Example:
char sample [10];
sample[10] = 'B';
Places where buffer can overflow:
Memory-
Can affect "user's data"
Can affect "user's code"
Can affect "system data"
Can affect "system code"

Malicious Code Injection:
char buf[80];
  int (*fnptr) ();

- function pointer fntpr invoked somewhere else
Risk: An attacker can OVERWRITE fntpr with any address, redirecting project execution
- Can input contains malicious machine instructions, followed by pointer to OVERWRITE fntpr
- When fntpr is next invoked, flow of control is redirected to malicious code
# Stack smashing attack
- First, attacker STASHES malicious code sequence somewhere in program's address space.
- Attacker provides carefully chosen 88 bit sequence next (last four bytes chosen to hold code's address overwrite saved return address)
- When vulnerable () returns, VPU loads attacker'd return address -handling control over to attacker's malicious code.

Overflow countermeasures:
- Staying within bounds
- Many languages have overflow protections (check lengths before writing, confirm that array subscripts are within limits, double-check boundary
condition code for off-by-one errors, limit input to number of acceptable characters, limit program's privileges to reduce potential harm)
- Code analyzers can identify many overflow vulnerabilities.
- Canary values in stack to signal modification

Other programming oversights
- Undocumented access points(backdoor)
- Off-by-one errors
- Integer overflows
- Un-terminated null-terminated string
- Parameter length, type, or number errors
- Unsafe utility libraries.