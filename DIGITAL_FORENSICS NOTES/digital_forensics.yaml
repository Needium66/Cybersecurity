####this file is for notes curating my journey in the world of digital forensics
####it will be more structured, beginning with an introduction, then delves into other areas in digital forensics
####text to be used throughout this journey is digital forensics basics: a practical guide using windows os by nihad hassan


####introduction
# what is digital investigation
# why do we need digital investigation?
- therefore to be able to incorporate digitization in investigating crimes that are committed involving devices
###crime
#what is a crime?
- crime can be defined into 2 main groups
1) physical - does not involve electronics
2) digital
  - identity theft
  - cyberbullying
  - skimming
  - spoofing
  - accessing accounts
  - social engineering
3) electronic device that can be useful in crime investigation
  - commit the crime: you can use electronic device to commit a crime e.g wire fraud- credit card is involved
  - research on the internet: you can use electronic device to carry out research on the crime to be committed on the internet e.g laptop
  - communication: you can use electronic device to communicate for a crime e.g phone
  - save files: you can use electronic device to save files of a crime e.g on a thumbdrive or file in a laptop
  - pictures: you can use electronic device to take pictures of who or what to commit a crime on e.g phone, camera etc
  - car phone location: your visited locations for a crime

#what are examples of crimes that require digital investiagtion?
- gilgo beach serial killer
- btk serial killer
  - lived in kansas
  - murdered 10 people between 1974 to 1991
  - sent taunting letters to police and newspapers
  - apprehended in 2005
  #how was he arrested?
  - could not arrest him through fingerprints or footprints etc
  - he was arrested using digital evidence: he used a floppy disk in the 90s
  - he sent a document to a tv station
  - the police were able to retrieve the disk and search for evidences on the floppy disk; the author, location, modification, date 
  metadataetc(properties)
  - they found a deleted word document file and recover it, author is dennis, traced a microsoft word document to a church
  - since the disk/ file is digital, it becomes a digital evidence

###locard's exchange principle
- every contact leaves a trace
- i.e there is always a trace of the suspect at every crime scene. because he interacts with the environment (crime scene) and leaves or
exchange  a trace e.g fingerprint, footprint, hair, piece of clothe (physical)
- applies to digital evidence:
   = login to your account
   - signed out of your account
   - gps
   - documents exchanged
   - sms
   - phone calls
   - saved files
   - sites visited
   - browser history

#####terms
# digital investigation
# digital forensics
# digital evidence

#digital investigation
- process of gathering or collecting evidence to answer questions about digital event e.g crime to test or hypothesize whether it is true
or not.
  - digital investigation using "scientific process"
    - the crime to investigate
    - ask questions - (what, who, how, where)
    - develop your hypothesis
    - gather evidence to prove or disprove hypothesis
    - repeat steps 3 and 4 until you find that the hypothesis is correct
    - document investigation for replications etc

#digital forensics
- usage of science  or technology in the investigation and establishments of facts or evidence in a court of law.

#digital evidence
- is any type of data that is saved or transferred using a digital device to aid the investigation
- digital evidence has:
  - legal usage
  - investigative usage
  - examples: face recognition, dna, surveillance video, camera, driver's license are all investigative usage
  - legal usage- is all about can it be used or not: federal uses it, but some states are not using some now.

#simulation
- crime: a murder is committed
- evidence: we have the victim's phone e.g sms
- what type of crime? it is physical crime, siince the victim was murdered
- we have digital evidence from the phone to aid in the investigation
- use the steps outlined above
    - the crime to investigate: murder using sms
    - ask questions - (what, who, how, where)
      - what was the victim's name?
      - who was the last person he communicated with?
      - how did he get to the crime scene?
      - where did the crime happen?
    - develop your hypothesis
      - first suspect committed the crime at the location (where) at what time (when) based on sms
    - gather evidence to proof or disproof hypothesis
      - find files; investigate digital files, saved files, deleted files
      - images: face recognition, exchanged pictures
      - gps
      - test to prove or disprove
    - repeat steps 3 and 4 until you find that the hypothesis is correct
    - document investigation for replications etc


####week 2 notes
####digital evidence
- any digital item that you can find on digital device that can be used for digital investigation.
- used for:
  - what happened when: find evidence for what occurred at what time e.g if investigation who copied or deleted a file in an organization
  - who interacted with whom: link 2 entities together e.g person a copied a file from this location. person a + a file
  - the origination of a particular item: source of an item e.g a cache of file was found, which location or source is that
  - who was responsible: which person is responsible. who did what etc
  - determine the intent of a crime: why did the crime happen. what was the motivation for the crime.

###analysis types
#there are 3 main types of analysis that can be done on digital evidence
- relational analysis: finding position, or relation or location or person or file etc. e.g a gps will help to find a location, an ip address
  - will give the address of the person involved or phone number
- functional analysis: finding an application e.g zoom usage- finding the login credentials, attachments etc, microsoft word, ppt i.e finding
  - analysis on an applicaton to aid with
- temporal analysis: relation with time. evidence of what time it occurred. sequence of occurrences. creating timelines to help with investigation
  - keep track of time stamp i.e mac - modified, accessed, created-when was the document modified e.g somebody opened the file, read it and
  - modified it. e.g opening up a word document or a file and looking at the "properties", you will see the name of the document,
  - the location (path) of the document, the size of the document and the time stamp (mac)
  note: for mac. the modified time might predate the creation time, depending on if the document was copied or when created on a new machine
    - i.e if a document was copied and created in a new machine. the date of creation might be today (09/03/2024). while modified date may
    - be the previous year e.g (05/05/2023). created date is the date it is created on the present machine being used.
#exercise
- which event reconstruction analysis is affected
  - misreading 3:15 for 3:15pm: it is temporal, since it involves time.
  - misreading 232.23.22.1 as 23.223.22.1: this is relational, since it involves the ip of a device to find out the location.
- example:
- searching sms messages of a murder victim's mobile phone
- solution: use the 5 steps for digital evidence
  - what happened when:
  - who interacted with whom: 
  - the origination of a paticular item: 
  - who was responsible: 
  - determine the intent of a crime: 
- analysis:
  - functional analysis: learn about the application. does the device has history, does it have the names of people? what format is it?
  - e.g using iphone. the pin, fingerprint etc. the icloud files, the text history, the settings etc
  - relational analysis: the ip addresses associated with the iphone, the connections
  - temporal analysis: timestamps of the sms messages.

  #investigation process of a digital crime
  #you identify or assess the evidences; you document the evidences; you acquire or collect the evidences; you preserve the evidences; 
  #you examine the evidences; you analyse the evidences; you report the evidences
  #the 7 steps of investigating a digital crime is below
  - identification/assessment: is it stealing or murder or breakdown of system. just knowing what kind of crime it is
  - walk-through or initial documentation: learning more about what kind of crime it is. inestigating the crime scene to know whether
  - the crime is physical or what is available around the crime scene and document everything, location, device, camera etc. document
  - before touching. who are the people at the crime scene
  - collection/acquisition: it involves collection of devices. collecting devices e.g laptops, phones, and other evidences associated with
  - the crime. is there a unique identification for the device etc
  - preservation: keeping the data associated, device etc as intact as possible. e.g no file was deleted or added to a laptop collected from
  - a crime scene. need to preserve the exact position or state of data associated.
  - examination: do investigation and analysis next
  - analysis: e.g using a scientific method
    - scientific method:
      - asking questions:
      - hypothesis:
      - prove or disprove hypothesis: i.e investigation using digital eveidence to proof or disproof the hypothesis
      - documentation & reporting:
  - you will be needing to examine( step 5) by asking questions through the scientific method.
  - you will be needing to analyse by investigating using digital evidence to proof and disproof the hypothesis
  - then reporting and keeping documentations of how we went about our investigation
  - reporting: report/document the evidences.

  #investigation process of a digital crime
  - gather facts:
  - form a hypothesis based on the available evidence:
  - should be objective:
  - follows the law:
  - always be open to other possibilities:

  #example
  - a wad of cash was missing on top of the manager's desk in the office
  - who stole the cash from the manager's desk?
  - crime scene is our manager's office
  - investigating who stole the cash
  - steps:
  - identification/assessment: who took the cash from the manager's office
  - walk-through and initial documentation: going through the office. what is inside the office? who has access to the office?
  - who came to the office when the office was opened. how much is missing? how many dollar bills is it? how was it placed
  - take photos, name of the people, phone numbers of the people, check garbage, cars of the people.
  - collection/ acquisition: take fingerprints, footprints, garbage, personal effects, devices, keys etc
  - preservation: preserve all of the evidences gathered.
  - examination:
  - analysis:
    - start asking questions- maybe someone entered the office during this period and start developing hypothesis; who are the people
    - that have access to the office. who are the people that don't have access to the office. is there a camera? who did we see access
    - ing the office etc. can we check everybody's personal effects? can we check everybody's cars, bags etc
  - reporting: document everything and present it.

  #major phases in the investiagtion of a digital crime
  - there are 3 major phases in the investigation of a digital crime
  - system preservation phase <=======> evidence searching phase <==========> event reconstruction phase
  - system preservation phase is keeping copies and ensuring that the collections gathered are not tampered with
  - evidence searching phase involves what type of eveidence is needed. how is the evidence sought for etc
  - evidence searching phase can either be: there are 2 types of analysis when carrying out the investigation process
    - live analysis
    - dead analysis
    - the main difference between them is e.g if a device is involved in a crime and an analysis on the os of the device
    - is being used will be carried out. that type of analysis on the os is called "live analysis"
    - however if the anaylsis to be conducted is not on the device's os, but on a trusted os, it is called "dead analysis"
    - getting who last logged on the machine etc can be recovered from the os.
    - the device that we are conducting analysis on for live analysis means the device is on. for dead analysis, the device will be off
    - for evidence searching phase too:
    - define the general characteristics of the object
      - define the intial locations to search for
      - looking for data to support or refute the hypotheses
        - salvage deleted files
        - special files
        - filter out irrelevant files
        - extract embedded metadata
      - search criteria can be based on:
        - file extensions
        - names
        - keyword
        - temporal data
        - message digest value: for hashes. there is a database for all hashes or unique values etc
        - content signatures
    - event reconstruction phase is used to determine what are the events that occurred in a system.

#scenario
- someone reports getting harrasing emails and requests a forensic analysis be done, so that he can file criminal charges
- evidences are currently insufficient to file criminal charges or get a warrant to arrest the perpetrator
- victim has produced his laptop has evidence

- examination:
- take possessions of the victim and suspect laptops on a noted date
- gather your evidence using a sterile storage media (examination media) that had been forensically wiped
- verified the evidence by an examiner using md5 hash value: ############### using accessdata's disk imager
- the md5 has value for the examination medium yielded the same md5 hash value as previous forensic wipes to sterilize the media
- then analyse the email received on the laptop using paraben's email analysis tools

- findings:
- discovered 5 emails that contained threatening and harassing images with the screenshot attached
- tried the ip addresses of the email sender to a local isp
- subpoaned the isp provider and validated that the emails were sent from the alleged suspect.


#data analysis
# types of data analysis that can be done
- application/os analysis: one of the most advanced
- swap space analysis: related to os manager
- file system analysis
- database analysis
- volume analysis: lowest level of analysis
- memory analysis: e.g ram
- physical storage analysis
- network analysis

#evidence characteristics
- characteristics of evidence:
  - class characteristics: not very helpful evidence. evidence that belongs to a class of evidences e.g a chrome browser. most machines
  - have chrome on them, so it may not really be helpful using it as an evidence or calculators on windows system
  - individual characteristics: e.g word documents or log files for login, etc


####week3
#objectives
- intro to binary: 0 and 1. smallest memory unit is byte. 1 byte = 8 bits. most significant bit on the left and least significant on the right
- data representation: positioning numbers 1275 as 1000, 100, 10 and 1 respectively. 1000 * 1, 100 * 2, 10 * 7, 1 * 5 to indicate what it is
- one thousand, two hundred and seventy five. binary is low level rep while hexademical is compact rep.
- how data is stored in memory: -
  - numeric: numeric data representation
    - integer: (signed (postive & negative)) and unsigned (positive)
    - floating point
  - strings:
    - each character has 1 byte to represent it (ascii/unicode)
    - new line: to have a new line for strings in operating system e.g 0d oa for windows; new line
      - for windows: crlf (carriage return line feed)
      - for unix: lf
      - mac: cr
    - depending on the os, new line is represented differently.
    - 20 is for white space/space
    - on the table for (ascii/unicode), decimal is on the left, hexadecimal is in the middle and their representation is on the right e.g
    - for a representation that is "a" decimal is 97, while hexadecimal is 61.
  - data structures
  - bit flags
- cpu architecture
- hex editor


- data represenation: there is positional representation and value representation. the positional representation is from 0 to 7
- while value represenation of that will be from 2 raised to power of 0 for the position 0, till 2 raised to the power of 7 for the position 7
- 1, 2, 4, 8, 16, 32, 64, 128. 1 is the least significant value, while 128 is the most significant value.
- how can 46 be stored- 46 is a value between 32 and 64- can have 1s in between the positional and real values that will aggregate to greater
- than or equal to 46 i.e 1 for 32, 16, 8, 4 and 2: all these values aggregate to 62 and it is still a value between 32 and 64.
- to get 70- i can do 1 on 64, 4 and 2, while others have 0s.
- to store the largest value: it will be 1 on all of them and that will aggregate to 255 i.e 128 + 64 + 32 + 16 + 8 + 4 + 1 = 255
- to store the smallest vale: it will be 0 on all of them. which translates to 0
- all these are obtained from 1 byte = 8 bits
- to get a larger value than 255, more than 1 byte will have to be used e.g 2 bytes and above. e.g to represent 3750, use like 2 bytes probably
- 2 bytes will be from 0 to 15 i.e 2 raised to power 0 to 15 for the values representation.
- byte 1 will be the least significant because it has the least value, while the right will be the most significant, because it has more value
- e.g needs a value of 559: puts 1 on 512, needs 47, can't use 256 or 128 0r 64 because they will give a larger value. can use 32, 8, 4, 2 and 1.
- can't use 16 too, because it will get it to over 559. the rest of the values will have 0s on them

- decimals use digits from 0 to 9. binary uses 0 and 1. hexidecimal uses digits from 0 to 15
- hexadecimal overview:
- 0 ------> 0
- |
- |
- 9 ------> 9
- a ------> 10
- b ------> 11
- c ------> 12
- d ------> 13
- e ------> 14
- f ------> 15
- hexidecimal is different. you divide the 8 bits into 2 equal halves( 4 bits part on either sides) positional still from 0 to 7,
- but divides into halves between 3 and 4
- the values are 1 to 8 from the right for the first half. then another 1 to 8 on the left for the second half.
- assuming you have 1s on 8, 2 and 1 on the first half on the right. which gives 11. 11 in hexidecimal is b. so answer is b
- on the left second half, there is 1s on 4 and 2 and 0s on 8 and 1. therefore, the aggregate is 6.
- therefore, the answer for this hexidecimal is 6b.
- another example: decimal is 138 i.e 1s on 7, 3 and 1 i.e 128 + 8 + 2 = 138, from 2 , 8, 128 for values
- hexidecimal for the example will be 10 on the right hand side = a, and 8 on the left hand side = 8. therefore = 8a.
#BIG VS LITTLE ACHITECTURE
- when the numeric data needs 2 or more bytes (16 bits and more) e.g demonstrated by 4 bytes with most significant and least significant
- big end: for big end, most significant byte is stored first i.e the byte on the left hand side after division
- little end: for little end, least significant byte is stored first i.e the byte on the right hand side of the division
- between the two architecture, little end: is more popular. most cpus are made of this. e.g intel, amd
- big end: most old architecture are made of this e.g xbox 360, ibm, ps3, motorola etc. but all new versions of xbox are little end now.
#example
- representation of this hexidecimal number in memory? 0x12345678 
  - first is how many bytes is this data?
  - 0x is hexidecimal representation
  - every 2 digits are a byte i.e 12, 34, 56, 78 = 4 bytes
  - the least significant byte is 78 on the right and most significant byte is 12 on the left
  - how to store them:
    - little end: 78 first, followed by 56, then 34, then 12 i.e from least significant to most significant.
    - big end: 12 first, followed by 34, then 56, then 78 i.e from the most significant to least significant.

#data representation
- f = open(r' ./output.txt', 'wb') # we are opening the file. wb represents write
- num1 = 555; #represent the first number
- num2 = 98; # represent the second number. there is 2 numbers in all; above and this
- f.write(num1.to_bytes(2, 'little')) # telling file to use little end to write 555. because 555 is 2 bytes (that is why you have the 2)
- f.write(num2.to_bytes(1, 'little')) # write 98
- f.close() # close the file.
- this file has only 3 bytes.

#example
- Welcome to CSCI 554...
- DATA REPRESENTATION FOR IT IS:
  - see the screenshot
  - OD 0A 0D 0A; represents two lines . this is highly likely to be windows with these representation of crlf
  - for forensic analysis

#others
#data structures:
- are broken up into fields
- a field has a size and a name
- for example if a programmer wants a class that stores an integer and a string 
- example:
  - how to represent below data structure
  - bytes description
  -  2    street number
  -  30   street name
  - answer:
  - street number is an integer. while street name is a string

#bit flags
- having os has flags or conditions. where sometimes we may have 5 or more. e.g is this flag an am or pm, true or false etc.
- for management of space, flags can be used. e.g instead of using one byte for flags, one flag can be used to represent multiple flags.
- 6 conditions of busy, sleepy, tired, hungry, loc or study. 1 represents busy, and 0 represents not busy
- arithmetic operations: using "and". "&" ampersand. needs both to be true i.e 1 and 1, if it is 0 and 1, it is false.
- 1 and 1 gives you 1. 1 and 0 gives you 0, 0 and 0 gives you 0.
- for "all" operation: it means either one (1 and 0) is good enough i.e 1 and 0 is true, which means 1. 0 and 0 is false, 1 and 1 is true i.e 1
-



#####nihad a ahmed
#####learning objectives
- assembling of computer lab requirements, including work stations and tools
- documenting digital crime scene, including preparing chain of custody form
- differentiating between law enforcement agency and corporate investigation
- gathering intelligence using osint tools
- acquiring and analyzing digital evidence
- conducting in-depth forensic analysis of windows-os
- utilizing anti-forensic tools e.g steganography, data destruction techniques, encryption and anonymity techniques

