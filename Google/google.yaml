Security Analyst: Helps minimize risks to organization and people
Work to proactively guard against incidents, sytems and networks
Investigate and report their findings on any incident that occurs
How to use security to protect business operations, users and devices

#Hands-on activities
Detecting and responding to attacks
Monitoring and protecting networks
Investigating incidents
Writing code to automate tasks

#Security Operations Enablement
#How to manage security risks
Security domains
Frameworks and controls
Common secutrity threats, risks and vulnerabilities
Tools used by security analysts

#CISO Google Fiber
# Internet Networks and Network security
Structure of a network
Network protocols
Common network attacks
How to secure a network

#Linux and SQL Foundational
Linux CLI and SQL

#Cybersecurity Assets, Network tThreats and Vulnerabilities
Security controls
Risks and vulerabilities

#Cybersecurity IDR Incident Detection and Response
Detecting and responding to security incidents
Monitor and analyse network actvities using powerful security tools

#Using Python
Using python to automate common security tasks


#Foundational
Define security
Job responsibilities of a security analyst
Core skills of a security analyst
Value of security
8 security domains
Security frameworks and controls
Common tools

#Define security- Prepare for storm- yet there are water leaks, prepare to mitigate the leaks or potential damage.
Cybersecurity (Security): Practice of ensuring confidentiality, integrity and availability of information by protecting networks, devices,
people, and data from unathorized access or criminal exploitation. e.g
Requiring complex passwords to access sites and services to improve confidentiality against threat actors(pose danger or risk)
Benefits of security
Protects external(someone trying to gain access to private information, network or devices) or 
internal(current(accidental or accessing unathorized data) or former employee,  external vendors) threats
Maintain customers and partner trust
Maintain revenue once customers or partners trust are not lost

Personally Identifiable Information (PII)

#Roles
1. Security analyst or specialist- Monitoring and protecting information and system
#3 responsibilites of security analyst
Protecting and monitoring computer and network systems (contribute. to pen testing or ethical hacking). Proactively work to prevent risks
Install Software and hardware for development
Conducting periodic audits (confidential information is secure)
2. Cybersecurity analyst or specialist
#Responsibilities
Security operations center (SOC) analyst
Information security analyst

#Evolution of attacks
Virus: Malicious code written to interfere with computer operations and cause damage to data and software
It attaches itself to PROGRAM or DOCUMENT on a computer. Then it spreads and INFECTS one or more computers
An example of a computer virus is a WORM-It can SPREAD and DUPLICATE on its own without human involvement
Today, viruses are commonly known as MALWARE
Malware: Software designed to harm devices or networks
Two examples of  early Malware attacks:
Brain virus
Morris worm
Brain virus(1986): Alvi brothers created it. Its intention was to TRACK illegal copies of MEDICAL SOFTWARE and prevent PIRATED LICENSES.
But it turned out unexpectedly to- when someone used a pirated software, the VIRUS infected the computer. Then any disk inserted into the
computer will also be infected. Anytime anybody used the infected disks in a new computer, the VIRUS spread. Undetected, the VIRUS spread
globally in months. It changed the security industry-e emphasizing the need for plan and productivity.
Morris worm(1988): Robert Morris developed a program to access the SIZE OF THE INTERNET. The program CRAWLED the web and installed itself
onto other computers to tally the numbers of computers that were connected to the internet. The program however failed to keep TRACK of
the computers it had already COMPROMISED and continued to REINSTALL itself, until computers RAN OUT OF MEMORY and CRASHED.
About 6000 computers were affected-this represented 10% of the INTERNET at that time. Caused millions of dollars in damages
Computer Emergency Response Teams(CERTs): were established to respond to security incidents.
Disks are no ore needed to spread virus. Internet does it through the Malware now. Malware attacks:
Loveletter Attack
Equifax breach
Loveletter Attack(Onel de Guzman): 2000- Created the loveletter malware to STEAL internet login credentials. It spread rapidly and took
advantage of people that have not developed a HEALTHY SUSPICION FOR UNSOLICITED EMAILS.
Users received emails with the subject line-"I LOVE YOU" and had an attachment . Whenever, the attachment was opened, the malware
scanned the user's address book and automatically sent itself to each person on the list and install itself on the program to collect
information and passwords. 
It infected 45million computers globally and believed to have caused over $10 billion dollars in damages.
#Social Engineering: A manipulation technique that exploits human error to gain private information, access, or valuables.
Ways to safeguard your organization
1. Conduct regular internal trainings e.g training on Phishing
Phishing: Use of digital communication to trick people into revealing SENSITIVE DATA or DEPLOYING malicious software.
#EQUIFAX BREACH
Equifax breach(2017): Credit reporting agency- full blown data breaches of sensitive info. Over 143million customer records were stolen
and the breach affected over 40% of Americans. PII: SSN, Birth date, Home address, credit card details.
Multiple security lapses from Equifax caused it- The attack took advantage of numerous vulnerabilities.
Equifax settled with US government to pay over $575million

Notice similar trends, patterns and methodologies, you can identify potential breach and future damage.

#C.I.S.S.P DEFINED 8 DOMAINS
Security and risk management
Asset security
Security architecture and engineering
Security operations
Software Development security
Security assessment and testing
Identity and access management
Communication and network security

#NOW
Security and risk management: Focuses on defining security goals and objectives, risk mitigation, compliance, business continuity, and 
the law. e.g update company policies related to private health information if a change is made to federal policy e.g Health Insurance
Portability and Accountability Act (HIPPA)
Asset security: Focuses on securing digital and physical assets. It is related to STORAGE, MAINTENANCE, RETENTION nd DESTRUCTION OF DATA
e.g making sure that old equipment is properly disposed off and destroyed and any unused data.
Security architecture and enginerring: Focuses on optimizing data security by ensuring effective tools, systems, and processes are in place
e.g configure a firewall
Communication and network security: Focusues on managing and securing physical networks and wirelesss communications e.g Analysing user
behavior in your organization. e.g using usb ports to charge phones.
Identity and access management: Focuses on keeping data secure, by ensuring that users follow established policies to control and manage
physical assets, like office spaces, and logical assets e.g networks and applications e.g validating the identities of employees and 
documenting access roles. Setting up employees key card access to buildings
Security assessment and testing: Conducting security control testing, collecting and analyzing data, and conducting security audits
to monitor for risks, threats and vulnerabilities. e.g conducting regular audits of users permissions. e.g limiting access to payroll
to only certain employees.
Security operations: Conducting investigations and implementing preventatives measures. e.g receives an alert that an unidentifiable device
has been connected to your network. You will want to find the device and prevent the potential threat.
Software development security: Focuses on using secure coding practices, a set of recommended guidelines that are used to create secure
applications and services. e.g work with developers to ensure that security practices are incorporated into the SDLC e'g advise on password
policies or ensure that user data is properly secured and managed.

#How organization protect themselves using key principles
Frameworks
Controls
Ethics
Frameworks and Controls: Confidentiality, Integrity and Availability controls- C.I.A Triage
An example of control is using security key to access your account- only a user can be able to access this even if his password is compromised
#alerts on suspicion or malicious attacks- how to protect your organization
First, identify your organization's potential risks and threats
Then, implement necessary frameworks and controls
Security frameworks- are guidelines used for building plans to help mitigate risks and threats to data and privacy.
It provides a structured approach in implementing a security lifecycle.
#Purpose of security frameworks
1. Protecting PII
2. Securing financial information
3. Identifying security weaknesses
4. Managing organizational risks
5. Aligning security objectives and goals

#Four Core Components of Frameworks- It will help to better manage potential risks
Goals: Identifying and documenting security goals e.g an org may want to align with EU General Data and Protection Regulation(GDPR) law
It grants European Union citizens more control over their data e.g SA may identify and document where his org is out of compliance with GDPR
Guidelines: Setting guidelines to achieve security goals e.g updating your policies to comply with GDPR policy
Communication: Implementing strong security processes
Processes: Monitoring and communicating resultse.g monitoring your org's network and report a security issue affecting GDPR to your manager.
#Security controls:
Designed to reduce specific security riskse.g an org conducting a training for its employees to complete a privacy training to reduce
the risk of data breaches. As a SA, you may use a tool to track which employee has completed the training
#C.I.A Triage
Foundational model that helps inform how organizations consider risks when setting up systems and security policies.
Confidentiality: Only authorized users can access specific data or assets. e.g there should be a policy stating who shoul and should not
have access to a data should be in place.
Integrity: Means the data is correct, authentic and reliable.. use encryption to protect data integrity
Availaibility: Data is accessible to those who are authorized to access it.

NIST CSF National Institute of Standards and Technology: the Cybersecurity Framework
It consists of standards, guidelines and best practices to manage cybersecurity risks
Do you know about organizational frameworks and principles?
How do you use them to secure organizations assets and infra?
Security Ethics: Are guidelines to making accurate decisions in security related issues

Ethical principles in security:
Confidentiality: Keep info like PII confidential and safe in the course of your job
Privacy: Safeguarding private information from unauthorized use.
Laws: Rules that are recognized by a community and enforced by a governing entity.

#Tools
SIEM tools: It collects and analyze log data to monitor critical actvities in an organization
It collects real-time log or info and allows SA to analyze it. It can provide alerts for specific types of risks and threats
e.g Splunk and Chronicle. Splunk Enterprise provides that
Playbooks: It provides details about any operational actions. It guides on how to analyze security incident before, during and after it
has occurred. 
Network protocol analyzers: Also called packet sniffer. A tool designed to capture and analyze data traffic within a network
e.g tcpdump and wireshark
Linux operating system: Using linux to examine logs in the system. analysing error logs
Python and SQL


#2. How to Manage Security Risks and Threats
Identity Risks and Threats in Cybersecurity
Certified Information Security Professional (CISSP) Eight Domains
Security Frameworks and controls
Security audits
Security tools

#Security  Risk and Management (Elaboration)
When you define the GOALS and OBJECTIVES, an org can reduce risks and threats to data and assets e.g PII
Risk mitigation involves the process of having the right procedures and rules in place to quickly REDUCE the impact of a risk e.g BREACH
Compliance is a method used to design an org policies and regulatory requirements and independent standards.
Business continuity is an organization's ability to MAINTAIN their productivity by establishing RISK DISASTER RECOVERY
Laws is folowing rules and ethical behavior to minimize negligence of abuse or fraud

#Asset Security
Asset security e.g PII or SPII should securely handled and protected. Whether stored in a computer, transferred over internet or physically
collected

#Security Architecture and Engineering:
Shared reepsonsibilities by all everybody in the organization. Policies can help to enable situations to be handled quickly and effectively

#Communication and Network Security
Secure networks for org data and safe communication whether on-site or in the cloud

#IAM
Reduce risks to asset and data
4 components in IAM:
Identification: Access card, biometric data e.g fingerprint, username
Authentication: Verification process to prove a person's identity e.g passowrd or pin
Authorization: Access to resources in the org based on level or title in the org.
Accountability: Monitoring and reporting user actions e.g login attempts.

#Security Assessment and Testing
New and better way to mitigate threats, risks and vulbnerabilities. Implementing a new control e.g requiring multifactor authentication

#Security operations
Work on neutralizing threats and conducting digital forensics afterwards.

#Software Development Security:
Ensure app security is implemeented.

#Threat
Any circumstance or event that can negatively impact assets. e.g social engineering attack
Social engineeering is a manipulation technique that exploit human errors to gain private info, access and valuables. e.g phishing- technique
used to acquire sensitive data e.g username, passwords, or banking information

#Risk
Risk is anything that can impact the confidentiality, integrity or availability of an asset. Low risks examples are website content,
published research data. Medium risk assests examples are  early release of a company's quarterly earnings. High risk assests examples
are SPII or PII

#Vulnerabilities
Aweakness that can be exploited by a threat
A threat and vulnerability MUST be PRESENT before there can be a RISK. e.g outdated firewall,software or application, weak passwords,
unprotected confidential data, people
#SA can help with these:
How to identify suspicious email
Moniroting and documenting employees access to critical assets

#An example of EXPENSIVE MALWARE is called RANSOMWARE
#3 impacts of threats, risks and vulnerabilities to organization.
Ransomware: A malicious attack where threat actors encrypt an organization's data and demand payment to restore access
Once ransomware is deployed by an ATTACKER, it can FREEZE network systems, leave devices unusable and encrypt and lock confidential data
Actor demands a ransom in exchange for a decryption key.
Intranet is an example of DEEP WEB
DARKWEB: is only accessible by special software

#3 impacts of TRV
1. Financial: Once your system/network is compromised, it can lead to disruption of production and services. The COST to correct the issues
and fines for non-compliance with laws and regulations
2. Identity Theft: Storing data of employees, external data and customers for how long. Sensitive data includes PII- this can
be leaked or sold through the DARKWEB.
3. Damage to an org reputation: It could create bad press


#NIST Risk Management Framework(RMF)
There are 7 steps in RMF:
Prepare: Activities that are necessary to manage security and privacy risks before a breach occurs
Categorize: Used to develop risk management processes and tasks
Select: Choose, customize and capture documentation of the controls that protect an organization
Implement: Implement security and privacy plan for organization
Assess: Determine if established controls are implemented correctly
Authorize: Being accountable for the security and privacy risks that may exist in an organization
Monitor: Be aware of how systems operate

Security Frameworks: Are guidelines used for building plans to help mitigate risk and threats to data and privacy. e.g social engineering attacks
and ransomware.
People are the biggest threat to security.
Security Controls: Are safeguards designed to reduce specific security risks.
3 types of control:
Encryption
Authentication and
Authroization
Encryption: Is the process of converting data from a readable format to an encoded format. converting data from plain text
to cypher text.
Authentication: Is the process of verifyin who someone or something is. e.g login in with your username and password into a website
One of social engineering attack that can exploit authentication is vishing- the exploitation of electronic voice communication
to obtain sensitive information or to impersonate a known source.
Authorization: The concept of granting access to specific resources within a system. Access a deep web only if you are a federal employee.

CIA Triad: A model that helps inform how organizations consider risk when setting up systems and security policies.
Confidentiality: Only authorized users can access a specific assets or data.
Integrity: The data is correct, authentic and reliable.
Availability: Data is accessible to those who are authorized to access it.
This is very essential for banks for example

NIST CSF- Core fucntions - IPDRR
Identify: Identify a workstation that has been compromised with an unknown device plugged into it
Protect: You block the unknown device remotely, to STOP any potential threat and PROTECT the organization. You REMOVE the workstation to prevent
the spread of the damage. The strategy used to protect an organization through the implementation of policies, procedures, training and
tools that help mitigate cybersecurity threats.
Detect: You use tools to DETECT any additional threat or behavior, and identify the unknown device. Identifying potential security incidents
and improving monitoring capabilities to increase speed and efficiency of detections.
Respond: You RESPOND by investigating the incident to determine who used the unknown device, how the threat occured, what was affected and
where the attack originated. Making sure that the proper procedures are used to contain, neutralize, and analyze security incidents and
implement improvements to the security process.
Recover: You do your best to recover any files or data that were affected. The process of returning the affected incident back to normal
operation.
NIST S.P 800-53 for Federal Government. Special Publication
Open Web Application Security Project(OWASP) security principles
1. Minimize the attack surface area- disabling software features, control who can access certain assets, or establish more complex password
requirements
2. Principles of least privilege-least amount of access given to users to perform their tasks.
3. Defense in depth- Have more security controls that deals with risks and threats in different ways. e.g Using MFA
4. Seperation of duties- no one should be giving so many privileges so that they can misuse the system. e.g person who signs paycheck
should not be the one preparing them.
5. Keep security simple-don't make security control complex.
6. Fix security issues correctly-weak password to access an organization's wifi.

#Security audit
It is a review of an organization's security controls, policies and procedures against a set of expectations.
There are 2 types of security audits- external and internal
Internal Security Audity team- Compliance officer, security manager and other security team members.
Purpose of internal security audits
1. To improve an org security posture.
2. To avoid paying fines to regulatory bodies due to non-compliance
3. Identify organizational risks
4. Access controls
5. Correct compliance issues

#Common elements of internal audits
1. Establishing the scope and goals
2. Conducting a risk assessment of the organization's assets- often consucted by managers or other stakeholders
3. Completing a controls assessment
4. Assessment compliance- e.g compliance with GDPR if you run your business in the EU
5. Communicating results

Scope could be:
Assess users permissions
Identify existing controls, policies and procedures
Account for technology currently in use

Goals could be:
Adhere to the NIST CSF
Fortify system controls
Establish policies and procedures to ensure compliance with regulations

#Audit questions will help you to answer the remaining 3 common elements
What is the audit meant to achieve?
Which assets are most at risk?
Are current controls sufficient to protect those assets?
What controls and compliance regulations need to be implemented?

#Controls division
Administrative e.g passowrd policies
Technicale.g intrusion detection systems, encryption
Physical e.g surveilance camera, locks

#Stakeholder communication
Summarizes scope and goals
List existing risks
Notes how quickly those risks needs to be addressed
Identifies compliance regulations
Provides recommendations

#Common logs that you will need to be analyzing
Firewall logs: a record of established or attempted connections for incoming traffic from the internet. It also includes outbound requests
to the internet from within the network
Network logs: a record of all computers and devices that enter and leave the network. It also records connections between devices and
services on the network.
Server logs: a record of events related to services, e.g websites, emails, or file shares . It includes actions e.g login, passowrd
and username requests

SIEM provides:
real time visibility
event monitoring
automated alerts
stores all data in a centralized location (index)

#Different types of SIEM tools
Self hosted: an org will install,operate and maintain. bank can use this e.g Splunk Enterprise
Cloud based: maintain and manage by SIEM providers. e.g Splunk Cloud, Chronicle
Hybrid hosted: combine two- to leverage of the cloud and maintain physical assets to the tool

#Playbook
A manual that provides details about any operational action. Different types of playbooks e.g for incident response, security alerts,
team specific and product specific playbook, malware, ransomware, DDOS etc
Commonly used playbook- Incident response playbook: It is a guide with 6 phases used to mitigate and manage security incidents from
beginning to the end.
1. Preparation: Org must prepare to mitigate risks, by documenting procedures, establish plans and educate users.
2. Detection and analysis: Define and analyse events, using defined processes and technology.
3. Containment: Prevent further damage and reduce immediate impact of security incidents.
4. Eradication and recovery: Remove artifcats so that the org can return to normal operations. Also known as IT restoration
5. Post incident activity: documenting the incidents
6. Coordination: Recording and reporting the incidents throughout the incidents response period.

Playbook for malware:
assess the alert- determine if the alert is valid or not by analyzing the logs in SIEM
actions and tools to use to reduce the damage of the malware e.g ISOLATE OR DISCONNECT THE INFECTED NETWORK SYSTEM
eliminate the traces of the incident and restore the affected the systems back to normal operations- e.g restore the affected OS, then
restore the affected data using a cleanup created.
perform post incident actvities: creating final report to report to stakeholders or to necessary authorities

#INTERNET NETWORKS AND NETWORK SECURITY
Stucture of network
Network operations
Network attacks
Security hardening

#Structure of a network
Structure of a network
Standard networking tools
Cloud networks
TCP/IP model

#Structure of a network
The IPs and MAC addresses will enable devices to communicate with each other. Devices can communicate on two types of network- Local
Area Network(LAN)-spans a small area e.g office building, a school, or a home ( e.g a phone+wifi=LAN) and Wide Area Network(WAN)- spans
on large geographical area e.g city, state or country e.g internet (an employee in SanFras+ an employee in Dublin)
#Common devices that make up a networking tools (These 4 are all physical tools)
Hub: a network device that broadcast info to every device on the network.
Switch: it makes connections between specific devices on a network by sending and receiving data between them. More intelligent than hub.
It only passes data to the intended destination. More secure than hub
Router: It is device that connects multiple networks to one and another. e.g passing info from one computer to a tablet.
It leaves the computer and goes to the router, which finds the network address and forwards the data to the intended router and finally
the receiving router directs the info to the tablet
Modem: A device that connects your router to the internet and brings internet access to LAN. computer sending info from one location to
a computer in another location- computer to a router, through a modem, to the internet. to the reciving router, and then to the computer
#Virtualization tools: 
Pieces of software that performs network operations. They replace the physical tools and provided by cloud service providers
AWS Transit Gateway is used a network hub in AWS
A data packet will have a Header e.g IP address, Body e.g MAC(Media Address Control) address and Footer e.g Protocol number i.e HEADER+BODY+FOOTER
#TCP/IP Model
TCP is an internet communication protocol that allows two devices to form a connection and stream data.
Internet Protocol(IP): A set of standards used for routing and addressing data packets as they travel between devices on a network.
IPs that are sent across networks are assigned ports(ithey organize the sending and receiving of data across networks)
Common ports:
Port 25- Email
Port 443- Secure internet connection
Layers of TCP/IP Models(4): NITA . 
Network access layer: Layer 1- creation of data packets and transmission across network e.g hardware devices connected to physical cables
and switches that directs data to its destination
Internet layer: Layer 2- it is where IP addresses are attached to data packets to indicate location of the sender or receiver. It determines
whether data will be sent to e.g LAN or remote network for example.
Transport layer:  It controls the flow of the traffic across a network
Application layer: It determines how the data packets will interact receiving devcies e.g file transmers, email.

#Network Protocols
A set of rules used by two or more devices on a network to describe the order of delivery and the structure of the data. e.g
User hits a website for something, TCP handsake will help to enable the communication between the user and remote server to get a response
from. The server will send out data packets that will be viewable by the user on the webpage.
HTTPS: Allows web browser to send data securely over a network.
Domain Name System(DNS): Trannslates the internet domain names e.g yummy.com to IP addresses
Finally: Just by sending a request, it will do TCP, ARP, HTTPS and DNS

Security Protocols:
HTTPS
TLS/SSL

Firewall: A network security device that monitors traffic to and from your network It either allows or blocks network. A firewall can use port filtering- 
that allows or blocks certain port numbers to limit unwanted communication.
Hardware firewall:
Software Firewall: Performs the same function. It is a software program installed on a server or computer.
Stateful firewall: It keeps  track of info passing through it and proactively filters out threats.
Stateless firewall: It operates based on defined rules and does not keep track of info from data packets. They considered less secure
than stateful firewall.
Next Genration Firewalls: Provides even more security than stateful firewall. It not only performs tracking of incoming and outgoing
traffic, it also performs more in-depth security functions e.g intrusion detection, deep packet inspection, threat intelligence.

#VIRTUAL PRIVATE NETWORK(VPN)
A network security service changes your public IP address and hides your virtual location so that you can keep your data private when
you are using a public network like internet. It also encrypts your data and travels the internet to preserve confidentiality. It also
performs encapsulation- a process performed by a vpn service that protects your data by wrapping sensitive data in other data packets.
Basically VPN encrypts your data and encapsulate them in other data packets.
Security zone: A segment of network that protects the internal network from the internet. Part of security network called network segmentation
An example of network segmentation is hotel that offers free wi-fi.
An organization NETWORK can be sub divided into SUBNETWORKS OR SUBNET (Like segmenting them due to security; when an attack occurs in one subnet
it will not affect the other network)- it maintains privacy for each department in an organization. Database subnet, Weserver subnet,
Web reporting subnet. If there is an attack on the database subnet, an admin can isolate it and tackle it.
Classification of security zones: 2
Uncontrolled zone: Any network outside of the organizations control. e.g internet. 
Controlled zone: A subnet that protects the internal network from uncontrolled zone. TYPES OF CONTROLLED ZONE-
Demilitarized zone(DMZ)-It is in the outer layer. It contains public-facing services that can access the internet. e.g web servers,
proxy servers that hosts websites for the public, DNS servers that provide IP address for internet users., email and file servers
that handles communication.
Internal network- contains private servers and data that the organization needs to protect
Restricted zone- Protects highly confidential info. It is always accessible to employees with certain privileges.
DMZ is situated between two firewalls. One filters traffic outside the DMZ and the other one filters traffic entering the internal
network. it protects the internal network against external attack. There is a restricted zone protected by another firewall, so that
any attack that enters the DMZ zone CANNOT spread to the restricted zone or penetrate the internal network.

INTERNET -- FIREWALL == (DMZ) == FIREWALL -- (INTERNAL NETWORK == FIREWALL == RESTRICTED ZONE)
For the DMZ, the policies that you can implement include:
Restrict ports and IPs
Only HTTPS traffic can access your DMZ

How to secure INTERNAL NETWORKS: with PROXY SERVERS (Very important to protect against attacks)
Proxy servers are another system that helps secure networks. It is a server that fulfils requests of a client by forwarding them on to
other servers. It is a dedicated SERVER that is between the INTERNET and the rest of the networks. It uses a public IP address that is
different from all the private network. It hides the private IP address from malicious act from the internet and adds a layer of security.
It can also be used to block websites that you don't want anybody from your organization to have access to. It uses temporary memory.
Types of proxy service:
1) Forward proxy server- regualtes and restrict's access to the internet. Goal is to hide IP address and approve all outgoing requests.
2) Reverse Proxy Server-regulates and restricts internet access to an internal server. Goal is to accept traffic from external service, approves it
and forward it to internal server. Used for protecting web servers with confidential info.
3) Email proxy server- it filter's spam email by verifying whether a sender's address is forged, It reduces phishing for example.
Why do I need to secure networks?
Common network intrusion attacks:
Malware
Spoofing: It is another type of network attack, when an attacker changes the SOURCE IP of a data packet to impersonate an authorized user
and gain access to a network. Hackers pretend to be what they are not so that can communicate over the network with the target Some common
IP sppofing attacks are-
On-path attack: An attacker will place himself or herself in the middle of an authrorized connections and alters or intercepts data in transit.
e.g the attacker gains access and put himself between two devices (web server and web browser). Then, they sniff the packet info and learn
about the IP and MAC addresses of the two devices.
Replay attack: A network performed when a malicious actor INTERCEPTS a data packet in transit and DELAYS IT or REPEAT IT another time.
Smurf attack: A network attack performed when an attacker SNIFFS an AUTHORIZED USER'S IP ADRESS and FLOOD it with PACKETS. It is combination
of DDoS attack and IP spoofing to bring down the servers and the entire network.
How to protect your network from packet spoofing attack:
Implement encryption of data always
Configure firewalls
Network segmentation
Use only current wireless connection
Packet sniffing: Using of software tools to observe data as it moves across network. Personnally, you can legally use PACKET SNIFFING to
analyze and capture packets when investigating ongoing incidents or debugging network issues. Stand in between 2 authorized users to gain
control of the network. Packet sniffing can be active or passive. Passive sniffing is a type of attack where DATA PACKETS are read IN TRANSIT.
Packet flooding. Active packet sniffing is a type of attack where data packets are manipulated in traffic e.g injecting IP to redirect
packets to unintended port or changing the info the packets contain. How to protect MALICIOUS PACKET SNIFFING ATTACK:
1. VPN Tunneling- Using VPN to protect and encrypt the data as it travels across the internet. When you use VPN hackers may interfere with
your network, but they will not be able to DECODE or READ YOUR PRIVATE INFO.
2. Using HTTPS at the beginning of your domain. Using SSL/TLS at the beginning of your communication.
3. Using unprotected wi-fi- e.g at coffee shops or restaurants or airports. Avoid using free wifi, unless you have VPN installed.

What can result from an attack on an organization:
Leaking of valuable or confidential information
Damaging an organization's reputation
Impacting customer retention
Costing money and time
Examples:
An attack on Home Depot in 2014- Hackers compromised Home Depot's servers with Malware. By the time network admin shut down the attack.
Attackers had already taking debit and credit info of customers-56 million customers.
Common network attacks to be protected from:
Denial of Service Attack(DoS)- an attack that targets a NETWORK or SERVER and floods it with NETWORK TRAFFIC. The goal is to OVERLOAD
an organization's network in order to disrupt its operations.Send so much info/traffic to a network device, in order to CRASH IT OR MAKE IT
UNABLE TO RESPOND to legitimate users. A network crash can also lead them to more VULNERABILITIES and THREATS apart from MONEY and TIME
that will be lost.
Distributed Denial of Service Attack(DDOS)- It is DOS attack that uses MULTIPLE DEVICES or SERVERS in different locations to flood the target
network with unwanted traffic
A good example of DOS attack: an attacker crafted a CAREFUL PACKET that caused a router to spend more time processing the request. There is
a specific and never ending situation
3 COMMON LEVELS DOS ATTACKS:
1. SYN Flood Attack- It is a type of DOS attack that SIMULATES A TCP connection and FLOODS a server with a SYN packets. This is targeted at
Handsake SYN-SYN-ACK-ACK process. So the goal is to flood the first step with SYN packets or requests that will overwhelm the ports on the
server and prevent it from able to handle the request, thereby the server getting overwhelmed.
2. Internet Control Message Protocol (ICMP)- An internet protocol used by devices to tell each other about data transmission errors
across the network. ICMP Flood Attack: It is a type of DoS attack where an attacker repeatedly sends ICMP packets to a network server. This
will FORCE a server to send an ICMP back. This eventually USES all the BANDWIDTH for incoming and outgoing traffic and causing the server
to crash
Both ICMP and SYN Flood Attacks take advantage of COMMUNICATION REQUESTS to achieve their goals. The 3rd one does damage with just ONE REQUEST
3. Ping of Death- It is a type of DOS attack where an attacker PINGS A SYSTEM by sending it an OVERSIZED ICMP packet that is beigger than 64KB.
Since a correctly sized ICMP packet is 64Kilobytes. An hacker sends more than appropriate size in order to overwhelm the network.

#Security Hardening
#OS Hardening
#Network Hardening Practices
#Cloud Network Hardening

#Security Hardening
Security hardening is implemented for:
Devices
Networks
Applications
Cloud infrastructure
Part of job responsibilities of an SA are- patch updates and backups.
Security hardening is the process of STRENGHTENING a system to REDUCE vulnerabilities and attack surface- all the potential vulnerabilities
that a threat actor could exploit. An SA will perform regular maintenance to enable network device and systems functioning securely.
Security hardening can be conducted on Hardware, Applications, Databases, Devices and Networks. Examples of security hardening- software
patches, configuration changes e.g regular password change, removing or disabling unused apps and services, disabling unused ports, condcuting
regular penetration testing- helps to identify VULNERABILITIES in SYSTEMS, NETWORKS, WEBSITES, APPLICATIONS and PROCESSES.

#OS HARDENING
To strengthen an OS, you can do:
Regular updates e.g patch installation(patch updates), baseline configuration, hardware and software disposal
Backups
Keeping an up-to-date list of devices and authroized users.
Password regular change, MFA etc.

#NETWORK SECURITY HARDENING
It strenghtens networks such as:
Port filtering: This is performed regularly. It is a firewall function that blocks or allows certain port numbers to limit
unwanted communication. Basic principle is to ONLY ALLOW ports that are being used for network operations.
Network access privilege: Performed regularly. Set up networks with up-to-date firewall protocols. Using network segmentation to isolate
according to departments.
Encryption of networks: Performed regularly. Encrypt all data using current standard encryption.
Some network hardening tasks that are performed once are:
- firewall rules maintenance
- Network log analysis- examine network logs to IDENTIFY EVENTS of INTERESTS. There is where SIEM is used SIEM presents logs
on the scale of PRIORITY- HIGH to LOW. High priorities logs have a short time frame for mitigation.
- Patch updates
- Server backups

#CLOUD NETWORK HARDENING
Separation of data- older apps should be kept sperate from newer apps.
Backend apps should be separate from Frontend apps

#Developing security features and fixing vulnerabilities to SECURE emails-gmail
#CYBERSECURITY ASSETS, NETWORK THREATS AND VULNERABILITIES
Asset Security
Security systems and controls
Common vulnerabilities in the systems

Risk: Anything that can affect the integrity, confidentiality or availability of an asset. CIA
Security planning- first step of CIA triad.
Security Risk Planning: Are based on 3 elements-
Assets
Threats and
Vulnerabilities
They measure these to know how they can impact CIA. Each of them is WHY, WHAT and HOW OF SECURITY
Asset: An item of value for an organization. e.g building, data, people, businesses. Security teams can PRIORITIZE their ASSETS based
on threats.
Threat: An circumstance or event that can negatively impact assets.
Vulnerabilities: A weakness that can be exploited by a threat. Vulnerabilities are FLAWS within an ASSET. Asset can have many TYPES of
VULNERABILITIES.
You can only protect things that you account for.
Asset Management: The process of tracking assets and the risks that affect them.
All security plan revolves around Asset management.
You need to be able to rate your assets-
Asset classification: The practice of labelling assets based on sensitivity and importance to an organization. Bais that most companies 
follow to classify their assets include- PUBLIC, INTERNAL ONLY, CONFIDENTIAL and RESTRICTED.
Public- can be shared with anyone
Internal-only- can be shared ONLY with people int the organization.
Confidential- can only be shared by people working only a specific project.\
RESTRICTED- HIGHLY SENSITIVE AND NEED TO BE PROTECTED e.g IP, FINANCIAL INFO ETC.

Security teams PROTECT data in 3 different STATE:
In-use- it is being used by one or 2 people e.g when you log in
In-transit- data traveling from one place to another
At rest- data not currently being used. data that has been stored

INFORMATION SECURITY(INFOSEC): Keeping data at all states away from an unauthorized user. Weak infosec can lead to
1. Identity theft
2. Reputation damage
3. Financial loss
Types of risk categories:
Damage
Disclosure
Loss of information

Elements of SECURITY PLAN: It consists of 3 elements
Policies
Standards
Procedures
#Policies
A policy is a set of rules that REDUCES risk or PROTECT information. It identifies the scope, objectives and purpose of a security plan.
e.g New hieres sign Acceptable Use Policy (AUP)
#sTANDARDS
Tactical part of security planning. References that inform how to set policies. e.g companies using password management standard identified
in special publication, 800-63B
#Procedures
Step-by-step instructions to perform a specific security task. e.g how employees can securely reset a password when it has been Locked.

#Compliance - It comes after security planning
Compliance:
It is the process of ADHERING to internal STANDARDS and EXTERNAL REGULATIONS. Maintaining trust, reputation, safety and integrity are what 
are important for COMPLIANCE. fines, lawsuit and regulations are what make compliance important.
Focus of our compliance will be based on NIST-CSF:
One of the roles of NIST is to openly provide organization with set of frameworksand security standards that REFLECT key security regulations
Components of NIST-CSF are 3:
Core- simplified version of FUNCTIONS, or DUTIES, of a security plan. It identifies 5 broad functions of NIST-CSF
1. Identify(asset management related), Protect, Detect, Respond, Recover (IPDRR)
Tiers- It provides security teams a way to MEASURE performance of each of the 5 fucntions of Core. From levels 1 -5. Level 1 means it is
PASSIVE and Level 4 means it is ADAPTIVE.
Profiles: Final components of CSF. It provides INSIGHT into the CURRENT STATE of a security plan.

#IMPORTANT: Keep CURRENT or ABREAST with BEST PRACTICES and EMERGING TRENDS.

#SECURITY CONTROLS
Security controls: Are SAFEGUARDS designed to REDUCE specific security risks.
Types of security controls- 3 types:
1. Technical- many technologies to protect assets e.g encryptions, authentication systems and others.
2. Operational- it involves day-to-day handling of security environment e.g awareness training, incident response.
3. Managerial- Centred around how the first 2 REDUCE risks. e.g polices, standards and procedures.
Security controls are technologies used to REGULATE information privacy.
Encryption: Genesis- Ceasar's Cipher from Julius Ceasar. Cipher is an algorithm that encrypts information.
Cryptographic key-is a mechanism that DECRYPTS ciphertext
Flaws of cipher:
Brute Force Attack- A trial and error processes of discovering private information.
It relies on single key.
We use Public Key Infrastructure( PKI) now:
An encryption framework that SECURES exchange of information online. How it works- 2 step process
1. Starts with exchange of encrypted information- asymmetric encryption, symmetric encryption or both
Asymmetric encryption: Involves use of a public and private key pair for encryption and decryption of data. public key can be used by
any reource, server or anybody to have access to data it is encrypting, private key is only accessible to the user or resource to decrypt
whatever data that is encrypted. It slows down process
Symmetric encryption: The use of SINGLE secret key to exchange information. It is a faster process.
2. Establish trust using a system of digital certifcates.

Hash function: An algorithm that PRODUCES a code that can't be DECRYPTED. It is a one-way key unlike asymmetric and symmetric encryption.
It produces unique identifier instead. Find the hash values of files or applications and comparing them against known malicious files.
e,g hashing a file - "sha256sum newfile.txt"
VirusTotal: Tool used by SA to analyze suspicious files, domains, IPs and URLs.
Non-repudiation: The concept that the authenticity of information CANNOT be denied.

#ACCESS CONTROLS
Security controls that manage access, authorization, and accountability of information.
AAA Framework
Authentication- to answer- who are you? question. 3 factors of authentication-
knowledge- something the user knows e.g security question
Ownership- something the user possesses e.g OTP
Characteristics- something the user is e.g fingerprints, biometrics etc.
SSO is great because it eases the problem of having to be authenticated severally, but it is not too good when using a single sign in
Use MFA instead to make it more secure.
Authorization- Related to separation of duties and action of least privilege. e.g HTTP Basic Auth- HTTP uses basic auth-technology used
to establish a user's request to a server. Flaw- it transfers username and password openly through the network. People use HTTPS
these days. and OAuth- Open standard authorization protocol that shares designated access between applications. It uses API token.
Accountability- monitoring the access logs of a system- who access the system, when do they access the system, what resources do they
access? e.f failed log in attempt #ACCESS LOGS
Session: A sequence of network HTTP basic auth requests and responses associated with the same user.. Session ID will be created when a 
user first access a system. 2nd thing is the EXCHANGE of session cookies between a SERVER and a USER'S DEVICE.
Session cookies ensure that no sensitive info like credentials etc are shared, prevent attackers from obtaining sensitive info
FLAW: An attacker can impersonate a user through SESSION HIJACK- Monitoring and accounting of ACCESS LOGS can detect this on-time.
Exploit: Means taking advantage of a vulnerability.

Vulnerability Management:
1. Identify vulnerabilities- The most important step
2. Consider potential exploits
3. Prepare defenses against threats
4. Evaluate those defenses.
This is always a continuous process or cylce. New vulnerabilities are alsways being disovered, known as ZERO DAY EXPLOITS-
ZERO-DAY: An exploit that was previously unknown. The exploit is happening in REAL-TIME with ZERO DAYS to fix it.
Defense In Depth: Layered security approach. Referred to CASTLE APPROACH. Historically having a MOAT( Water filled defense)
GIANT STONE WALLS, WATCH TOWERS. Adopted in cybersecurity using a 5 Layer Design-
1. Perimeter Layer- First step layer of DID e.g username and passwords. authentication layer
2. Network Layer- closely related with ATHORIZATION- include techologies like NETWORK FIREWALLS and
3. Endpoint Layer- devices that have access on a network e.g laptop, deskstop, or a server. Antivirus software is a technology
that protects this layer.
4. Application Layer- Interfaces that are used to interact with technology. Security measures are PROGRAMMED as part of an application
e.g MFA
5. Data Layer- Critical data layer e.g PII. Asset classification is a SECURITY CONTROLthat is very important in this layer.
A lot of orgs design their SECURITY CONTROL through this model-DID
Explosure: It is a mistake that can be EXPLOITED by a threat.
One of the most popular libraries of exposure is a CVE LIST-
Many orgs use these lists to find ways to IMPROVE THEIR DEFENSES.
Critical Used to Get a CVE Listed:
1. Independent of other issues.
2. Recognized as potential security risk
3. Submitted with supporting evidence
4. Only affect one code base.
NIST National Vulnerability Database will need to validate a CVE before it can PASS as one too-
> 9 is critical CVE
Vulnerability Assessment Process:
1. Identification- using scanning tools
2. Vulnerability analysis- using it to find the source of the problem
3. Risk assessment- A score is assigned to each vulnerability. impact of the vulnerability.
4. Remediation- address vulnerabilities that can impact the org. e.g enforcing security procedures, patches etc.
Attack Surface: All the potential vulnerabilities or threats that an actor can exploit
Attack Vectors: Pathway that attackers use to penetrate security defenses.e.g posting company's use that should not have been shared.
Practicing an attacker mindset:
1. Identify a target
2. Determine how a target can be accessed
3. Evaluate attack vectors that can be exploited
4. Find the tools and methods of attack.
Defending attack vectors:
Educating users
Applying least privilege rule
Using and applying security controls e.g installing antivirus 
Building diverse security team.

Threats:
Social engineering
Malware
Web-based exploit- online threats.


#SOCIAL ENGINEERING
Prepare
Establish trust
Persuasion tactics
Disconnect from the target

#Preventing the attacks
Managerial control
Staying informed of trends

#Examples of social engineering attack-
Phishing: The use of digital communication to trick people into revealing sensitive data or deploying malicious software.
#Phishing Kit
3 main tools inside a phishing kit-
1. Malicious attachments:
2. Fake data collection forms:
3. Fraudulent web links:

Smishing: The use of text messages to obtain sensitive information or to impersonate a known source.
Vishing: The exploitation of electronic voice communication to obtain sensitive information or impersonate a known source.

Types of malware:
Virus
Worm: Malware that can DUPLICATE and SPREAD itself across systems on its own
Trojan: Malware thatlooks like a legitimate file or program.
Ransomware: Type of malicious attack where attackers encrypt an organization's data and demand payment to restore access
Spyware: Malware that is used to gather and sell information without consent.

Cryptojacking: A form of malware that installs software to illegally mine cryptocurrencies.

Intrution Detection Systems (IDS): An application that monitors system actvity and alerts on possible intrusions.
Signs that can show cryptojacking:
Slowdown
Increased CPU Usage
Sudden system crashes
Fast draining batteries
Unusually high electricity costs

Web-based exploits: Malicious code or behavior that is used to take advantage of coding flaws in a web application.
Injection attack: Malicious code inserted into a vulnerable application.
Cross site scripting(XSS): An injection attack that inserts code into vulnerable website or web application. Exploiting HTML and Javascript
Three main types of cross-site scripting attack:
Reflected
Stored
DOM Based-
Reflected XSS Attack: It is an instance when a MALICIOUS SCRIPT is sent to the SERVER and ACTIVATED during the SERVER'S RESPONSE.
e.g false url in a browser that is clicked on that makes a https request, in response the malicious script will be sent back and then
get INFO about the cookies and sessions.
Stored XSS Attack: Not hidden- A MALICIOUS SCRIPT is directly INJECTED into a SERVER. e.g An attacker will target elements of a site
that are served to a user. e.g targets the IMAGE and SITE that are loaded for the visit.
DOM Based XSS Attack: Document Object Model- It is basically the source code of a website. An instance when a MALICIOUS SCRIPT exists in the
WEBPAGE a BROWSER loads. A malicipus script can be seen in the URL of a DOM-based XSS. Criminals will change the PARAMETERS that are in a url e.g
mywebsite.com/mything?theme=color to mywebsite.com/mything?theme=<script>alert(1);</script> (this hidding malicious java script in an html tag)
ALL THESE ARE CROSS-SITE SCRIPTING.


#SQL
Online Retail Company e.g clothing
Appears as menu and images to customers in the frontend. Whatever selection that is made e.g selecting a shirt and adding it to a cart-
an sql query is working in the background(backend)
SQL INJECTION: An ATTACK that executes UNEXPECTED QUERIES on a DATABASE.
The attack takes place at the point of the website that is designed to accept USER INPUT. e.g the login form to ACCESS a site.
An attacker will enter additional code that is harmful to a user's login input, exploit this to get sensitive info, access to the database
admin rights.
DEFENSE: Have a CODE that will SANITIZE the inputs of alnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnl users. e.g using a "PREPARED STATEMENT"- A coding technique that EXECUTES SQL
statements before passing them onto the DATABASE. THIS VALIDATES THE code BEFORE PERFORMING THE QUERY of a user's input. Security teams
work with developers to TEST applications for these SORT of vulnerabilities.

#THREAT MODELING:
The process of identifying assets, their vulnerabilities, and how each is exposed to threats. Apply these to
1. Entire systems
2. Applications
3. Business processes.
Threat Modeling Steps:
1. Define the scope- develop inventory of assets and classify them
2. Identify threats- team determines all POTENTIAL THREAT ACTORS- Any person or group who presents a security risk. It could be internal
or external. ONCE THEY ARE IDENTIFIED, the team will come up with an ATTACK TREE-A diagram that MAPS threat to ASSETS.
3. Characterize the environment- Consider how customers and employees interact with the environment. They consider external partners and other
vendors too.
4. Analyze threats- the team works to EXAMINE protections and IDENTIFY gaps. Rank threats according to their risk scores and assign them.
5. MITIGATE RISKS- Team decides how to MITIGATE risks. The group create their PLANS for defending against threats.
Transfer it, Reduce it, or Accept it, is the CHOICE here.
6. Evaluate Findings- Everything that was done during the exercise is documented and the team makes notes of successes they have had.
Example: Using PASTA Framework- A popular threat modeling framework that is used across many industries:
Process for
Attack
Simulation and
Threat
Analysis
There are 7 Stages of PASTA Framework: For a fitness app
1. Define businesses and security objectives e.g how PII is handled
2. Define the technical scope- identify the application components that must be evaluated. e.g technology that is involved while data is at rest
and in use, network protocols, security controls
3. Decompose the application- identify the EXISTING CONTROLS that will protect USER DATA from threats. Means working with app developers
to produce a DATA FLOW diagram. How data gets from a user's device to a company's database.
4. Perform a threat analysis- Collect the most up to date info on the type of attacks being used.
5. Perform a vulnerability analysis- the team more deeply investigate potential vulnerabilities by considering the root of the problem
6. Conduct attack modeling- The team tests the vulnerabilities that were analyzed in Stage 5 by simulating attacks. Simulate an attack tree
here, like a flow chart. e.g add SQL injection to our attack tree, because a threat actor might exploit vulnerabilities for an unsanitized
inputs. Securtiy teams will run a TEST to validate threats of an attack vector like this.
7. Analyze risks and impacts- Assemble all info from stages 1 to 6


#CYBERSECURITY IDR (INCIDENT DETECTION AND RESPONSE):
Incident Detection Analysis and Response:
Incident response lifecycle
Monitor and analyze network traffic
Processes and procedures
Interpret logs and alerts

#Incident response lifecycle: objectives
incident response lifecycle
incident handler's journal
incident response teams
documentation
incident respnse lifecycle framework: using NIST CSF - 5 STEPS. This will focus on the last 3 steps
Detect
Respond
Recover
NIST CSF here covers:
Preparation
Detection and analysis
Containment and eradication and recovery
Post-incident activity.
Incident: An occurrence that actually or imminiently jeopardizes, without lawful authority, the confidentiality, integrity, or availability
of information or of an information system; or constitutes a violation or imminent threat or violation of law, security policies, security
procedures, or acceptable use policies.
Event: An observable occurrence on a network, system, or device.
5 W's of an incident:
1. Who triggered the incident
2. What happened
3. When the incident took place
4. Where the incident took place
5. Why the incident took place
Incident handler's journal: A form documentation used in incident response.
Computer security incident response teams(CSIRT): A specilaized group of security professionals that are trained in incident management
and response.
Security Analyst- He will determine the critical rating of an incident. Some incidents can be immediately REMEDIATED and does not need  
require escalation.
Technical Lead- Provides technical leadership by guiding security incidents through their lifecycle
Incident coordinator-Tracks and manages the actvities of ++                                  bbbbthe CSIRTs and other teams involved in the CSIRTs. Update teams on the status
of incident responses. Can be Ops Lead in some other organizations.
CSIRT can be Incident Handling Team(IHT) or Security Incident Response Team (SIRT) in some other organizations.
#Incident response plan
Elements of a security plan are: Policies, Standards and Procedures 
Incident response procedures
System information- network diagram, data flow, asset inventory information and other documents.
Other documents- contact list, forms and templates.
You can do tzbletops or simulations to review and test
Tools that SA uses:
Detection and management tools
Documentation tools                                                                                                                                                                    
Investigative tools
Types of documentation:
Playbooks
Incident handler's journals
Policies
Plans
Final reports
IDS and IPS tools:
Snort
Zeek
Kismet
Sagan
Suricata
SIEM Tools: Processes
Collects data-logs e.g firewalls, application etc
Aggregate data- all the data from different data source gets aggregated in one centralized place
Normalize data
Analyze data
Another tool: SOAR(Security Orchestration, Automation and Response)
A collection of applications, tools and workflows that uses automation to respond to security events. SOAR to automates analysis and
security events. SOAR can also be used to TRACK and MANAGE cases.
Network traffic: The amount of data that moves across a network.
Network data: Data that is transmitted between devices on a network.
Can detect abnormalities in network through Indicators of Compromise (IOC): 
Observable evidence that suggests signs of potential security incident. e.g
Data Exfiltration- Unauthorized transmission of data from a system. Attackers use this method to STEAL or LEAK credentials or IP
LATERAL MOVEMENT OR PIVOTING: Used by attackers to maintain access in a system they have gained access to. Study and explore the network
to maintain and expand their access. Scope out the environment to understand valuable assets e.g sensitive data e.g PII, etc
Reduce the size of the stolen data to BYPASS the existing security controls, then they will EXFILTRATE the data to their hands. e.g
they can email the data to themselves using the COMPROMISED email account.
Defensive measures:
Prevent attacker access
Monitor network activity
Protect assets
Detect and stop the exfiltration
Ways:
Block the IP address/es of the attacker using firewall rules
Data is known to be sent as packets. Packets contain the below
Components of a packet:
Header- it contains the packet of the source and destination address
Payload- has the content of a packet
Footer- end of a packet
Use a Network Protocol Analyzer(Packer sniffer): A tool designed to capture and analyze data traffic within a network.
Packet Capture(P-Cap): A file containing data packets intercepted from ana interface network.
Use TCPDUMP and WIRESHARK to analyze network
Analyze IP headers for packets transmission: The way the layers are structured
1. Application
2. Transport
3. Internet- this layer accepts and delivers packets for the network. It is where the IP operates. Responsible for making sure packets reach
their destinations.
Structure:
Version- which version of IP is being used 4 or 6
IHL- Internet Header Length-it specifies the length of IP header with any other options.
ToS- Type of Service-it tells us if certain packets should be TREATED with different care.
Total Length- it identifies the length of the entire packet, including the headers and the data.
Next 3 Fields- Identification, Flags and Fragment Offset- deal with information related to fragmentation(when an IP packets is broken
into chunks and get transmitted). These 3 fields find out if fragmentations had been used
Time to Live-it determines how long a packet can live before it gets DROPPED
Protocol- It provides a VALUE that corresponds to protocol e.g TCP is represented by 6
Header checksum-it stores a value called a checksum, which is used to DTEREMINE if any error has occured in the header.
Source address- specifies the source IP address
Destination address- Specifies the destination IP address.
Options- It is not really required. Commonly used for network troubleshooting, rather than network traffic. If it is used, the header length
will increase.
4. Network
TCPdump is a popular network analyzer-it is preinstalled on many Linux distribution and can be installed on most unix-like OS. Can easily
MONITOR traffic like TCP,IP,ICMP, and many more. It is a CLI. With it you can FILTER for IP, protocol and port number. e.g using a tcpsump-
to capture data packets: "sudo tcpdump -i any -v -c 1"
sudo - given tcpdump permission since it does not have it on that machine
tcpdump - to start tcpdump
-i - to indicate inteface we want to SNIFF traffic from
-v - is for verbose to indicate detailed packet info
-c - stands for count which specifies how many packets tcpdump will CAPTURE- 1 is specified here.
Output: tcpdump is listening on any available tools and given us additional info e.g capture size
packet size field- details time of travel of the packet- in hours minutes, seconds and fraction, timestamp is very important
IP is listed next, which means IPv4, then tos 0x10 means tos service, then ttl 64 means time to live, id 32645, offset 0, flags [DF] are
for identification, offset and flags- DF stands for Don't Fragment.
proto TCP (6)- it SPECIFIES the protocol in use and provides us with a value CORRESPONDS to protocol- the protocol here is TCP, which is
represented by number 6. length 196 is the last field, which means total length of the packet, including IP header.
IPs that are communicating with each other- the direction of the arrow (>) is an INDICATOR of the traffic flow. the last piece of the IP
address indicates the port number or name. cksum 0xa83f correct-indicates the checksum header to indicate if any errors have occurred; here
it is telling us it is correct with no errors. P in the Flags indicates PUSH flag, ACK flags means acknowledge flag. It means it is PUSHING
OUT data.

#Detection Analysis Phase of IDR Lifecycle:
Incident response team verify and analyze incidents. detect a security incident and analyze it "NOT ALL EVENTS ARE INCIDENTS, BUT ALL INCIDENTS
ARE EVENTS". If an incident is detected, then an alert is sent out to the security team, then the sec team will begin the ANALYSIS phase-
Investigate and validate incidents, examine indicators of compromise to determine if an incident occurred.
Challenges of detection:
It is difficult to DETECT everything
How volumes of alerts- misconfigured alert rules can cause this or actors taking advantage of a new vulnerability
Documentation is important:
to ensures TRANSPARENCY- Can be used as a source of truth for insurance claims for example.
Provides STANDARADIZATION too e.g if you have policies, playbooks
Evidence is important- tracking what has occured: You can use CHAIN OF CUSTODY
CHAIN OF CUSTODY s used in digital forensic e.g if there is a compromised hard drive, if an SA detected this, after documenting what
happened and transfers it to another SA, it needs to be logged in COC, and whenever it gets transferred to another person too, needs to
be logged. paper trail of who handled the eveidence, where, and when did they do that
                                 Description of Evidence
Item     Quantity    Description of item(location, hostname, MAC address, IP address)

                                 Custody Log
Item     Date&Time    Release by(Name&Signature)                   Purpose of Transfer
Whenever there is any error in COC, it is called BROKEN CHAIN OF CUSTODY
In the court of law, COC helps us to establish Integrity, Reliability and Accuracy.
PLAYBOOK FOR DDoS ATTACK:
Unknown Incming Traffic ------ Peaked amount of incoming traffic ------ IDS alert
START
DEFINE INDICATORS OF COMPROMISE- Start with determining if something is compromised by the incoming traffic
COLLECTS LOGS
ANALYZE
Playbook can be AUTOMATED, SEMI-AUTOMATED, or NON-AUTOMATED.
The above is NON-AUTOMATED. AUTOMATED PLAYBOOK will automate the tasks e.g
gathering the info for the incidents
analysing the logs will both be automated. SOAR and SIEM tools can be used to automate playbooks. It will reduce time of resolution
SEMI-AUTOMATED- Automate the tedious, error-prone tasks, SA can prioritze their time with other tasks.
HOW TO MANAGE HIGH VOLUME INCIDENT ALERTS:
Use Triage- Categorize the incidents based on urgency of the conditions- based on the threats they pose to CIA e.g ransomware incident
requires immediate response. Higher priority than an employee receiving phishing email.
TRIAGE PROCESS:
Receive and access- receive and access whether an alert is false positive or true positive, known issue or new, 
Assign priority
Collect and analyse- investigate and analyse whether there is any eveidence associated with it. e.g system logs
Failed login attempt- questions to ask yourself
1. Is there anything out of ordinary
2. Are there multiple failed login attempts?
3. Did the login happen outside of normal working hours?
4. Did the login happen outside of network?

#CONATAINMENT, ERADICATION AND RECOVERY- THIRD PHASE - RESPOND AND RECOVER PHASE.
Containment is the act of LIMITING and PREVENTING additional damage caused by an incident. e.g
Containment strategy for a malware attack:
1. Isolate the affected system by DISCONNECTING IT from the NETWORK. tHIS WILL prevent the MALWARE from spreading to other parts of the system.
Eradication is COMPLETE REMOVAL of the incident elements from all affected systems. examples of eradication-
1. Perform vulnerability tests
2. Update patches
Recovery is the process of returning affected systems back to normal operations. 
1. It involves REIMAGING of affected systems
2. Resetting passwords, readjusting network configurations like firewall rules.

#POST INCIDENT ACTIVITY PHASE
The process of reviewing an incident to identify areas for improvement during incident handling
Final Report: Documentation that provides a comprehensive review of an incident.
Lessons learned meeting
Questions to ask-
What happened?
What time did it happen?
Who discovered it?
How did it get contained?
What were the actions taken for recovery?
What could have been done differently?

#LOGS
Details of logs can be:
Date
Time
Location
Action
Names
How do log gets collected?:
Tools like log forwarders collect logs from various sourcesand automatically forward them to a CENTRAL SOURCE for storage.
Types of nlogs
Network logs: Generated by devices like routers, switches, proxies and firewalls
System Logs: Generated by OS
Application Logs: logs related to software applications
Security Logs: Generated by security tools like IDS or IPS
Authentication Logs: Record login attempts
       LOGS
ALLOW: GOOGLE.COM Source: 192.167.1.1 Friday, 10 June 2022 12:10:45
Allow access for a specific entry into Google.com from a source IP address on Friday June 10 at 12 o clock
The site, the source IP, Timestamp.
Commonly used log formats:
1. Syslog- is both protocol and a log format.protocol it both transports and writes logs. log format means it contains an header and followed by
structured data
3 sections of syslog:
header- it contains data fields like timestamps, the hostname, the application name and message ID
structured data- CONTAINS ADDITIONAL INFO WITH KEY VALUE PAIRS e.g eventsource as key and application as value, eventid as key, 9999 as value
a message- message for the event
2. JavaScript Object Notation(JSON)- It also uses key value pairs to structure data.
Alert is the key, value is malware
3. exTensible Markup Language (XML)- is a language used for STROING and TRANSMITTING. It uses tags and other keys to structure data e.g
first name, last name
employee id
date joined
all seperated with arrows
4. Common Seperated Values (CSV)- Is a format, that uses sperators like commas to seperate values.
#TELEMETRY
Endpoint: Any device connected on a network e.g laptop, tablet, smart phone etc
Host-base Intrusion Detection System- That is what we use cybereason for- Installed as an agent on a single-host. To monitor endpoint
Monitor host in which it is installed.
Network: To monitor network use Network-based Intrusion Detection System
Similar to packet sniffers. because they analayze network data e.g Tenable or nessus. NID uses Signature analysis.
Set up a rule that needs to be matched for an IDS to be triggered.
NIDS rule contains:
Action
Header

#Signature
SignatureID(SID):
rev: means revision e.g rev:1 means first revision-it has been updated once.
#suricata
cd /etc/suricata
ls
cd rules/
ls
less custom.rules
#custom rules for http connection
first word means alert are triggered, when the conditions specified are met, sid- means signatures id.
SIEM tooLS:
Collect and process enormous amount of data from different environment
All the data are in different formats
SIEM tool will normalize these data to make it seamless for an analyst and process it.
Only relevant data is included.
Finally, SIEM tools will INDEX the data, so that it can be accessed through search
Examples of search-
failed login with eventid in a specified day
Splunk uses Search Processing Language
buttercups error OR fail*, select a time range
right click on one of the outputs to exclude it, it will show what is executed in the serach bar.
Chronicle uses the YARA-L language to DEFINE rules for detection. Using it, you can search for hostname, domain, IP, URL, email, username
or file hash.
Types of search:
UDM Search- Unified Data Model
Raw log search


#USING PYTHON FOR CYBERSECURITY
Python can be used to MANAGE access control list.
Analyze network traffic
Advantages:
Easy to read
Requires less coding
Standard guideline
Online support
User friendly
Examples:
Print a failed login account once it is more that 5 times
if failed_attempts > 5:
    print ("Account locked")

Print if the OS matches OS 2 --MATCHES, if the condition evaluates to 2, it print updates now. If it is false, it will not be printed
The indentaion means it depends on the top, to be executed.
operating_system = "OS 2"
if operating_system == "OS 2":
    print("Updates needed")
Incorportaing "else" if the if statement is false or fails
operating_system = "OS 3"
if operating_system = "OS 3":
    print("Updates needed")
else:
    print("No updates needed")

#Loops, iterative statement-repeatedly execute a set of instructions

for i in range(10):
    print("Cannot connect to the destination")

while loop: keeps running until false
time = 0
while time <= 10:
    print(time)
    time = time + 2

while loop for no of devices that users can connect to
max_devices = 5
i = 1

while i < max_devices:
    print("User can still connect to additional devices")
    i = i + 1  #once it reaches 5, it will exit the loop and print that it has reached the maximum
print("user has reached maximum number of connected devices")

#function
a message to greet employees
#Define a function
def greet_employee():
    print("Welcome! You are logged in. ")

#Call a function
greet_employee()

#Using a range function or parameters
def greet_employee():
    print("Welcome! You're logged in",name)
#call a function
greet_employee("Jide Efunkunle")

#using parameters first name and last name
def greet_employee(first_name, last_name):
    print("Welcome! You're logged in",first_name, last_name)
#call a function
greet_employee("Jide", "Efunkunle")

#To get failed login
def calculate_fails(total_attempts, failed_attempts):
#get a variable for the percentage of failed attempts login
    fail_percentage = failed_attempts / total_attempts
#lets get the output by using a return
    return fail_percentage
#lets call a function to execute the program where toatl attempts is 4 times, and failed attempts is 2 (an argument)
calculate_fails(4,2)
Output = 0.5 or 50%

#To make it effective, we have to give the percentage a value, so that an action will be taking e.g say if the percentage is greater
#than or equal to 0.5, the account should be locked
percentage = calculate_fails(4,2)

if (percentage >= 0.5):
    print("Account locked.")

#Extracting IPs from a list of IPs. Extract the first 3 digits. 
# We have to use string slicing for that- to extract first 3 digits of each IP
#Use the loop to apply SOLUTION to every IP address on the list

#starting with 1 IP address

IP_address = 192.168.1.1
#extract the first 3 digits. the IP_address is the IP address variable that we are slicing
#Since python starts at 0. We will start at index 0 through 3 to capture the first 3 digits
print(IP_address[0:3])

#To do this for IP addresses in the original list, we will put it in a loop.
#We will use append method here too.
#The IP address list
IP_address = ["198.567.X.X", "198.561.X.X", "148.132.X.X", "163.152.X.X"]
#Extract the first 3 characters from the list, give it a variable
IP_list = []
#create a for loop. address is in the variable in the for loop. append is used to add an IP to the end of a list
for address in IP_address:
    IP_list.append(address[0:3])
#print the IP list
print IP_list

#Regular Expressions
+ sign represents one or more occurrences of a specific character. e.g "a+" could mean a, or aaa, or aaaaa.
e.g if you have 4 different set of characters with some a characters in them, when you use a+, it will return the "as" inside each
of those set of charaters
"\w" matches with any alphanumeric character but it does not match symbols
"\w+" a combination
#to extract email addresses
format of an email: user1@email.com
first segment of an email i.e user1: contains alphanumeric characters "\w+" use this to match any alphanumeric string of any length.
second segment @: it is always present
third segment email: alphanumeric characters represnt with "\w+"- this varies
fourth segment .: always present, use "\."
last com: use "\w+"

#Extract email address
#use import module or library
import_re
email_log = """ Email recived August 3 from user1@email. com. Email recived August 3 from user2@email.com. Email rejected August 3 from
user3@email.com"""
#re.findall returns all results for a regualr expression. email log indicates where to search for the emails
print(re.findall("\w+@\w+\.\w+",email_log))
#run it to a get a list of all the emails

#Opening files. With is always used in the code to open files
first is to add with function, then, open to know what kind of action we want to perform on the file, then the first parameter, which is about
the file or location of the file(file path), usually has an extention with it, then second parameter will tell you what to do with the file
r means read and file is a variable that contains the file information. as long as we are inside the statement.
with open("login_attempts.txt", "r") as file:
#use python built-in function-read to convert files to strings- read()
    file_text = file.read()
print(file_text)

#parsing is the process of converting data into more readable format.
split() method converts list into a string.- sepearting them into smaller chunks that can be analyzed

with open("login_attempts.txt", "r") as file:
#use python built-in function-read to convert files to strings- read()
    file_text = file.read()
    #use split to seperate what is in the list
print(file_text.split())
#lets save this list into a variable so that it can be reused in other codes.
usernames = file_text.split()
print(usernames)
#in order to be able to know the number of user login attempts, we need to add a for loop with counter command
#logic use counter = 0, and enter a username login, start at index 0, if the username desired is not what is there, it enters 0, if it is,
#it counts 1 and does count more for any additional matching usernames.
#we need a for loop, an if statement and a counter variable.

with open("login_attempts.txt", "r") as file:
#use python built-in function-read to convert files to strings- read()
    file_text = file.read()
    #use split to seperate what is in the list
print(file_text.split())
#lets save this list into a variable so that it can be reused in other codes.
usernames = file_text.split()
print(usernames)
#create a function that count's users failed login attempts
def login_check(login_list, current_user):
    counter = 0
    for i in login_list:
        if i == current_user:
            counter = counter + 1
            #else if statement
        if counter >= 3:
            return "You have tried to login three or more times, hence your account has been locked"
        else:
            return "You can log in"
login_check(usernames, "elarson")
Output will be you can login. For any username that appears more than 3 times, it will be locked

Errors
Types of errors
1. Syntax errors
2. Logic errors
3. Exceptions
syntax error is easily found
For logic errors, use print statement on each line to know your output- print("line 20")
print("line 55: inside the conditional")
use debugger
Exceptions, when something is mathematically impossible,use different data type, NameError is a type of exception
to debug: ask these questions
what is the purpose of the code? what do you want to use the code for




#LINUX AND SQL
DISTROS IN LINUX
RedHat is a parent of CentOS
Slackware is a parent of SUSE
Debian is a parent of Ubuntu and and KALI Linux
#Tools that are used for penetration testing in Kali Linux
Metasploit: Can be used to look for and EXPLOIT vulnerabilities on machines.
Burp Suite: Tool that is used to TEST for WEAKNESSES in web applications.
John The Ripper: Tool used to GUESS passwords.
#Tools that are used for DIGITAL FORENSICS in Kali Linux
tcpdump: used to CAPTURE network trAFFIC.
wireshark: can be used to analyze life and CAPTURE network traffic
autopsy: forensic tool used to analyze HARDRIVES and SMARTPHONES.

#COMMANDS
#read files /filtering
cat
cat access.txt
#to read the top 10 files in directory
head
#to search a specified file and return lines in the file containing specified string. you insert the argument that you are looking for 
#afer the grep command, then the name of the file as the next argument
grep OS updates.txt
#piping
#send the list in the below subdirectories through pipe and use grep to search for users in the file. return only files with users in it.
ls /home/analyst/reports | grep users
#commands to use when you want to create directories for drafts or reports
mkdir
mv
cp
rm
#removing a directory from a working directory location
rmdir $directoryname
#create a directory in working directory
mkdir drafts
#get into the directory and create files
cd drafts
touch email_patches.txt
touch OS_patches.txt
ls
#go back to reports directory from drafts directory
cd /home/analyst/reports/
#move file from reports to drafts
mv email_policy.txt /home/analyst/drafts/
#check the drafts directory for the new file
cd /home/analyst/drafts/
ls
#to edit a file in a directory.
#go to the working directory
cd /home/analyst/drafts
#check for the file
ls
#go into the file and edit
nano updates_os.txt
#To save whatever you have edited in the file and exit, follow the below commands
Control O + Enter
Control X to exit

Permissions
User
Group
Other
#full permission
drwxrwxrwx - d indicates the file type(directory), if it contains "-", it means it is a regualr file. the 2nd,3rd nand 4th characters
indicate the permissions for the user(read,write and execute), if one of the permissions was missing, it will have "-" and that means no 
permission for that. the 5th,6th and 7th indicate permissions for the next owner type-group(read, write and execute). the 8th,9th and 10th
characters- indicate permission for the last owner group(others.)

#Check permissions in directories
ls -l #displays permissions in directories
ls -a #do displays hidden files
ls -la # displays permissions in directories and hidden files
#chmod
changes permissions on files and directories
two modes for changing permissions:
1. symbolic
chmod g+w, o-r access.txt
#first command after chmod INDICATES how to change permissions, the last argument must be presnt, because it is the file that permissions
#need to be changed for.
u = user
g = group
o = other
#in the above command, g indicates the need to change permissions for group, o indicates the need to change permissions for others
#use mathematical operators + or - and others to indicate whether we want to add or take from permissions
# + sign after g is to indicate wanting to add permissions to g, add write permissions to the "group"
# - sign after g is to indicate wanting to take permissions from o. take away read permissions from "others"
for access.txt, check the permissions on it:
ls -l
#add write permission to the group, and take away read permission from others
chmod g+w, o-r access.txt
#root
never login as root user because of security risks
you may make irreversible mistake- e.g delete a directory
problem in a multi-user accounts- can't trace or track who did what
vulnerable to attacks
#use sudo instead. temporary super user permissions
sudoers
#useradd
useradd adds a sudo user to a system
#someone with root or sudo privileges can only add a user
sudo useradd amir16
deluser: to delete user
whatis tail
apropos password


#SQL
Relational database will have multiple tables
Two tables can be said to relate, if they share at least one similar column
e.g TWO TABLES OF EMPLOYEES and MACHINES, where there is an employee_id field in both of them. The employee_id field is the "key"
There are two types of KEYS:
Primary key- A column where EVERY ROW has a UNIQUE ENTRY. No null or empty values.
Foreign Key- A column in a table that is PRIMARY KEY in ANOTHER TABLE. Can have empty values and duplicates.
A TABLE can only have ONE PRIMARY KEY with MULTIPLE FOREIGN KEYS

#Need entries in employee_id and device_id in the "employee" table to query for expected results
Will be using just 2 commands:
SELECT - Indicates which column to RETURN
FROM - Indicates which TABLE to QUERY
# Select employee_id and device_id from the employees table. not case-sensitive commands. put semicolon to END a query.
SELECT employee_id, device_id
FROM employees;
then "ENTER"
#WHAT DEPARTMENT THE EMPLOYEES USING THE COMPUTER IS FROM OR THEIR USERNAME OR OFFICE THEY WORK IN. Use SELECT to PRINT all from the table
SELECT *
FROM employees;
ENTER
#How to add FILTERS to our tables.
Operator e.g equals to =
e.g in the country column, if you want to FILTER for USA, Use country = 'USA'
WHERE indicates a CONDITION for a filter.
e.g find all login attempts made in the USA:
WHERE country = 'USA' #Create this filter. 
#DO IT
SELECT *
FROM log_in_attempts
WHERE country = 'USA';
#search for patterns instead of exact words.
#there is an office column- search for offices in the East building
To search for PATTERN, % sign is used to ACT AS A WILD CARD FOR UNCERTAIN CHARACTERS e.g 'East%'
NOTE: Cannot use = operator when you use pattern % sign. 'LIKE' is used instead.- like is used with WHERE to search for a pattern in a
column.
Example: Some enters USA, while others enter US, use the pattern to filter
SELECT *
FROM log_in_attempts
WHERE country LIKE 'US%'; #THE US% indicates both US and USA
#Common data types to be found in databases:
String
Numeric
Date and time
#Operators:
=
>
<
<> #not greater than
>= #greater than or equal to
<= #less than or equal to

#Get login attempts after 6PM
SELECT *
FROM log_in_attempts
WHERE time > '18:00';

#filter for numbers and dates using the "BETWEEN" operator. it filters for numbers and dates within a range e.g looking for all patches
installed within a certain range. e.g search for patches installed between March 1st 2023 and September 1st 2023
SELECT *
FROM machines
WHERE OS_patch_date BETWEEN  '2023-03-01' AND '2023-09-01';
#AND
Specifies that both conditions must be met simultaneously.
#list of machines running operating system1 and using emailsystem1.
SELECT *
FROM machines
WHERE operating_system = 'OS 1' AND email_system = 'Email System 1';
#OR
Specifies either condition can be met
SELECT *
FROM machines
WHERE operating_system = 'OS 1' OR operating_system = 'OS 3';
#NOT
SELECT *
FROM machines
WHERE NOT operating_system = 'OS 3';
#HOW TO COMBINE AND JOIN TWO TABLES TOGETHER; joining tables when you query a database
write the name of the table first, then the name of the column you are referencing.
filtering for emaployees using machines
find the shared column
ffind the primary key, that is a foreign key in another table.
#INNER JOIN
Returns rows matching on a specified column that exists in more than one table.
SELECT username, office, operating_system
FROM employees
INNER JOIN machines ON employees.employee_id = machines.enployee_id;
Types of Outer Joins:
LEFT JOIN
RIGHT JOIN
INNER JOIN: Returns all of the records of the first table, but only returns rows of second table that match a specified column
RIGHT JOIN: Returns all of the records of the SECOND table, but only returns rows from the first table that match a specified column
FULL OUTER JOIN: Return all records  from both tables